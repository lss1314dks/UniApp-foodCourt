if("undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){const t=this.constructor;return this.then((a=>t.resolve(e()).then((()=>a))),(a=>t.resolve(e()).then((()=>{throw a}))))}),"undefined"!=typeof uni&&uni&&uni.requireGlobal){const e=uni.requireGlobal();ArrayBuffer=e.ArrayBuffer,Int8Array=e.Int8Array,Uint8Array=e.Uint8Array,Uint8ClampedArray=e.Uint8ClampedArray,Int16Array=e.Int16Array,Uint16Array=e.Uint16Array,Int32Array=e.Int32Array,Uint32Array=e.Uint32Array,Float32Array=e.Float32Array,Float64Array=e.Float64Array,BigInt64Array=e.BigInt64Array,BigUint64Array=e.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(Vue,weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),function(e){"use strict";function t(e,t,...a){uni.__log__?uni.__log__(e,t,...a):console[e].apply(console,[...a,t])}function a(e,t){return"string"==typeof e?t:e}const o=t=>(a,o=e.getCurrentInstance())=>{!e.isInSSRComponentSetup&&e.injectHook(t,a,o)},n=o("onShow"),i=o("onLoad"),l=(e,t)=>{const a=e.__vccOpts||e;for(const[o,n]of t)a[o]=n;return a};const s=l({name:"uniFormsItem",options:{virtualHost:!0},provide(){return{uniFormItem:this}},inject:{form:{from:"uniForm",default:null}},props:{rules:{type:Array,default:()=>null},name:{type:[String,Array],default:""},required:{type:Boolean,default:!1},label:{type:String,default:""},labelWidth:{type:[String,Number],default:""},labelAlign:{type:String,default:""},errorMessage:{type:[String,Boolean],default:""},leftIcon:String,iconColor:{type:String,default:"#606266"}},data:()=>({errMsg:"",userRules:null,localLabelAlign:"left",localLabelWidth:"70px",localLabelPos:"left",border:!1,isFirstBorder:!1}),computed:{msg(){return this.errorMessage||this.errMsg}},watch:{"form.formRules"(e){this.init()},"form.labelWidth"(e){this.localLabelWidth=this._labelWidthUnit(e)},"form.labelPosition"(e){this.localLabelPos=this._labelPosition()},"form.labelAlign"(e){}},created(){this.init(!0),this.name&&this.form&&this.$watch((()=>this.form._getDataValue(this.name,this.form.localData)),((e,t)=>{if(!this.form._isEqual(e,t)){const t=this.itemSetValue(e);this.onFieldChange(t,!1)}}),{immediate:!1})},unmounted(){this.__isUnmounted=!0,this.unInit()},methods:{setRules(e=null){this.userRules=e,this.init(!1)},setValue(){},async onFieldChange(e,t=!0){const{formData:a,localData:o,errShowType:n,validateCheck:i,validateTrigger:l,_isRequiredField:s,_realName:r}=this.form,c=r(this.name);e||(e=this.form.formData[c]);const d=this.itemRules.rules&&this.itemRules.rules.length;if(!this.validator||!d||0===d)return;const u=s(this.itemRules.rules||[]);let m=null;return"bind"===l||t?(m=await this.validator.validateUpdate({[c]:e},a),u||void 0!==e&&""!==e||(m=null),m&&m.errorMessage?("undertext"===n&&(this.errMsg=m?m.errorMessage:""),"toast"===n&&uni.showToast({title:m.errorMessage||"校验错误",icon:"none"}),"modal"===n&&uni.showModal({title:"提示",content:m.errorMessage||"校验错误"})):this.errMsg="",i(m||null)):this.errMsg="",m||null},init(e=!1){const{validator:t,formRules:a,childrens:o,formData:n,localData:i,_realName:l,labelWidth:s,_getDataValue:r,_setDataValue:c}=this.form||{};if(this.localLabelAlign=this._justifyContent(),this.localLabelWidth=this._labelWidthUnit(s),this.localLabelPos=this._labelPosition(),this.form&&e&&o.push(this),!t||!a)return;this.form.isFirstBorder||(this.form.isFirstBorder=!0,this.isFirstBorder=!0),this.group&&(this.group.isFirstBorder||(this.group.isFirstBorder=!0,this.isFirstBorder=!0)),this.border=this.form.border;const d=l(this.name),u=this.userRules||this.rules;"object"==typeof a&&u&&(a[d]={rules:u},t.updateSchema(a));const m=a[d]||{};this.itemRules=m,this.validator=t,this.itemSetValue(r(this.name,i))},unInit(){if(this.form){const{childrens:e,formData:t,_realName:a}=this.form;e.forEach(((e,o)=>{e===this&&(this.form.childrens.splice(o,1),delete t[a(e.name)])}))}},itemSetValue(e){const t=this.form._realName(this.name),a=this.itemRules.rules||[],o=this.form._getValue(t,e,a);return this.form._setDataValue(t,this.form.formData,o),o},clearValidate(){this.errMsg=""},_isRequired(){return this.required},_justifyContent(){if(this.form){const{labelAlign:e}=this.form;let t=this.labelAlign?this.labelAlign:e;if("left"===t)return"flex-start";if("center"===t)return"center";if("right"===t)return"flex-end"}return"flex-start"},_labelWidthUnit(e){return this.num2px(this.labelWidth?this.labelWidth:e||(this.label?70:"auto"))},_labelPosition(){return this.form&&this.form.labelPosition||"left"},isTrigger:(e,t,a)=>"submit"!==e&&e?"bind":void 0===e?"bind"!==t?t?"submit":""===a?"bind":"submit":"bind":"submit",num2px:e=>"number"==typeof e?`${e}px`:e}},[["render",function(t,a,o,n,i,l){return e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["uni-forms-item",["is-direction-"+i.localLabelPos,i.border?"uni-forms-item--border":"",i.border&&i.isFirstBorder?"is-first-border":""]])},[e.renderSlot(t.$slots,"label",{},(()=>[e.createElementVNode("view",{class:e.normalizeClass(["uni-forms-item__label",{"no-label":!o.label&&!o.required}]),style:e.normalizeStyle({width:i.localLabelWidth,justifyContent:i.localLabelAlign})},[o.required?(e.openBlock(),e.createElementBlock("text",{key:0,class:"is-required"},"*")):e.createCommentVNode("",!0),e.createElementVNode("text",null,e.toDisplayString(o.label),1)],6)]),!0),e.createElementVNode("view",{class:"uni-forms-item__content"},[e.renderSlot(t.$slots,"default",{},void 0,!0),e.createElementVNode("view",{class:e.normalizeClass(["uni-forms-item__error",{"msg--active":l.msg}])},[e.createElementVNode("text",null,e.toDisplayString(l.msg),1)],2)])],2)}],["__scopeId","data-v-2380ed3a"]]);var r={email:/^\S+?@\S+?\.\S+?$/,idcard:/^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i")};const c={int:"integer",bool:"boolean",double:"number",long:"number",password:"string"};function d(e,t=""){["label"].forEach((t=>{void 0===e[t]&&(e[t]="")}));let a=t;for(let o in e){let t=new RegExp("{"+o+"}");a=a.replace(t,e[o])}return a}const u={integer:e=>u.number(e)&&parseInt(e,10)===e,string:e=>"string"==typeof e,number:e=>!isNaN(e)&&"number"==typeof e,boolean:function(e){return"boolean"==typeof e},float:function(e){return u.number(e)&&!u.integer(e)},array:e=>Array.isArray(e),object:e=>"object"==typeof e&&!u.array(e),date:e=>e instanceof Date,timestamp(e){return!(!this.integer(e)||Math.abs(e).toString().length>16)},file:e=>"string"==typeof e.url,email:e=>"string"==typeof e&&!!e.match(r.email)&&e.length<255,url:e=>"string"==typeof e&&!!e.match(r.url),pattern(e,t){try{return new RegExp(e).test(t)}catch(a){return!1}},method:e=>"function"==typeof e,idcard:e=>"string"==typeof e&&!!e.match(r.idcard),"url-https"(e){return this.url(e)&&e.startsWith("https://")},"url-scheme":e=>e.startsWith("://"),"url-web":e=>!1};const m={required:(e,t,a)=>e.required&&function(e,t){return null==e||"string"==typeof e&&!e||!(!Array.isArray(e)||e.length)||"object"===t&&!Object.keys(e).length}(t,e.format||typeof t)?d(e,e.errorMessage||a.required):null,range(e,t,a){const{range:o,errorMessage:n}=e;let i=new Array(o.length);for(let s=0;s<o.length;s++){const e=o[s];u.object(e)&&void 0!==e.value?i[s]=e.value:i[s]=e}let l=!1;return Array.isArray(t)?l=new Set(t.concat(i)).size===i.length:i.indexOf(t)>-1&&(l=!0),l?null:d(e,n||a.enum)},rangeNumber(e,t,a){if(!u.number(t))return d(e,e.errorMessage||a.pattern.mismatch);let{minimum:o,maximum:n,exclusiveMinimum:i,exclusiveMaximum:l}=e,s=i?t<=o:t<o,r=l?t>=n:t>n;return void 0!==o&&s?d(e,e.errorMessage||a.number[i?"exclusiveMinimum":"minimum"]):void 0!==n&&r?d(e,e.errorMessage||a.number[l?"exclusiveMaximum":"maximum"]):void 0!==o&&void 0!==n&&(s||r)?d(e,e.errorMessage||a.number.range):null},rangeLength(e,t,a){if(!u.string(t)&&!u.array(t))return d(e,e.errorMessage||a.pattern.mismatch);let o=e.minLength,n=e.maxLength,i=t.length;return void 0!==o&&i<o?d(e,e.errorMessage||a.length.minLength):void 0!==n&&i>n?d(e,e.errorMessage||a.length.maxLength):void 0!==o&&void 0!==n&&(i<o||i>n)?d(e,e.errorMessage||a.length.range):null},pattern:(e,t,a)=>u.pattern(e.pattern,t)?null:d(e,e.errorMessage||a.pattern.mismatch),format(e,t,a){var o=Object.keys(u),n=c[e.format]?c[e.format]:e.format||e.arrayType;return o.indexOf(n)>-1&&!u[n](t)?d(e,e.errorMessage||a.typeError):null},arrayTypeFormat(e,t,a){if(!Array.isArray(t))return d(e,e.errorMessage||a.typeError);for(let o=0;o<t.length;o++){const n=t[o];let i=this.format(e,n,a);if(null!==i)return i}return null}};class p extends class{constructor(e){this._message=e}async validateRule(e,t,a,o,n){var i=null;let l=t.rules;if(l.findIndex((e=>e.required))<0){if(null==a)return i;if("string"==typeof a&&!a.length)return i}var s=this._message;if(void 0===l)return s.default;for(var r=0;r<l.length;r++){let c=l[r],d=this._getValidateType(c);if(Object.assign(c,{label:t.label||`["${e}"]`}),m[d]&&null!=(i=m[d](c,a,s)))break;if(c.validateExpr){let e=Date.now();if(!1===c.validateExpr(a,n,e)){i=this._getMessage(c,c.errorMessage||this._message.default);break}}if(c.validateFunction&&null!==(i=await this.validateFunction(c,a,o,n,d)))break}return null!==i&&(i=s.TAG+i),i}async validateFunction(e,t,a,o,n){let i=null;try{let l=null;const s=await e.validateFunction(e,t,o||a,(e=>{l=e}));(l||"string"==typeof s&&s||!1===s)&&(i=this._getMessage(e,l||s,n))}catch(l){i=this._getMessage(e,l.message,n)}return i}_getMessage(e,t,a){return d(e,t||e.errorMessage||this._message[a]||t.default)}_getValidateType(e){var t="";return e.required?t="required":e.format?t="format":e.arrayType?t="arrayTypeFormat":e.range?t="range":void 0!==e.maximum||void 0!==e.minimum?t="rangeNumber":void 0!==e.maxLength||void 0!==e.minLength?t="rangeLength":e.pattern?t="pattern":e.validateFunction&&(t="validateFunction"),t}}{constructor(e,t){super(p.message),this._schema=e,this._options=t||null}updateSchema(e){this._schema=e}async validate(e,t){let a=this._checkFieldInSchema(e);return a||(a=await this.invokeValidate(e,!1,t)),a.length?a[0]:null}async validateAll(e,t){let a=this._checkFieldInSchema(e);return a||(a=await this.invokeValidate(e,!0,t)),a}async validateUpdate(e,t){let a=this._checkFieldInSchema(e);return a||(a=await this.invokeValidateUpdate(e,!1,t)),a.length?a[0]:null}async invokeValidate(e,t,a){let o=[],n=this._schema;for(let i in n){let l=n[i],s=await this.validateRule(i,l,e[i],e,a);if(null!=s&&(o.push({key:i,errorMessage:s}),!t))break}return o}async invokeValidateUpdate(e,t,a){let o=[];for(let n in e){let i=await this.validateRule(n,this._schema[n],e[n],e,a);if(null!=i&&(o.push({key:n,errorMessage:i}),!t))break}return o}_checkFieldInSchema(e){var t=Object.keys(e),a=Object.keys(this._schema);if(new Set(t.concat(a)).size===a.length)return"";var o=t.filter((e=>a.indexOf(e)<0));return[{key:"invalid",errorMessage:d({field:JSON.stringify(o)},p.message.TAG+p.message.defaultInvalid)}]}}p.message=new function(){return{TAG:"",default:"验证错误",defaultInvalid:"提交的字段{field}在数据库中并不存在",validateFunction:"验证无效",required:"{label}必填",enum:"{label}超出范围",timestamp:"{label}格式无效",whitespace:"{label}不能为空",typeError:"{label}类型无效",date:{format:"{label}日期{value}格式无效",parse:"{label}日期无法解析,{value}无效",invalid:"{label}日期{value}无效"},length:{minLength:"{label}长度不能少于{minLength}",maxLength:"{label}长度不能超过{maxLength}",range:"{label}必须介于{minLength}和{maxLength}之间"},number:{minimum:"{label}不能小于{minimum}",maximum:"{label}不能大于{maximum}",exclusiveMinimum:"{label}不能小于等于{minimum}",exclusiveMaximum:"{label}不能大于等于{maximum}",range:"{label}必须介于{minimum}and{maximum}之间"},pattern:{mismatch:"{label}格式不匹配"}}};const h=(e,t,a)=>{const o=a.find((e=>{return e.format&&("int"===(t=e.format)||"double"===t||"number"===t||"timestamp"===t);var t})),n=a.find((e=>e.format&&"boolean"===e.format||"bool"===e.format));return o&&(t=t||0===t?k(Number(t))?Number(t):t:null),n&&(t=!!V(t)&&t),t},f=(e,t)=>b(t,e),g=(e,t={})=>{const a=w(e);if("object"==typeof a&&Array.isArray(a)&&a.length>1){return a.reduce(((e,t)=>e+`#${t}`),"_formdata_")}return a[0]||e},v=e=>{let t=e.replace("_formdata_#","");return t=t.split("#").map((e=>k(e)?Number(e):e)),t},y=(e,t,a)=>("object"!=typeof e||w(t).reduce(((e,t,o,n)=>o===n.length-1?(e[t]=a,null):(t in e||(e[t]=/^[0-9]{1,}$/.test(n[o+1])?[]:{}),e[t])),e),e);function w(e){return Array.isArray(e)?e:e.replace(/\[/g,".").replace(/\]/g,"").split(".")}const b=(e,t,a="undefined")=>{let o=w(t).reduce(((e,t)=>(e||{})[t]),e);return o&&void 0===o?a:o},k=e=>!isNaN(Number(e)),V=e=>"boolean"==typeof e;const N=l({name:"uniForms",emits:["validate","submit"],options:{virtualHost:!0},props:{value:{type:Object,default:()=>null},modelValue:{type:Object,default:()=>null},model:{type:Object,default:()=>null},rules:{type:Object,default:()=>({})},errShowType:{type:String,default:"undertext"},validateTrigger:{type:String,default:"submit"},labelPosition:{type:String,default:"left"},labelWidth:{type:[String,Number],default:""},labelAlign:{type:String,default:"left"},border:{type:Boolean,default:!1}},provide(){return{uniForm:this}},data:()=>({formData:{},formRules:{}}),computed:{localData(){const e=this.model||this.modelValue||this.value;return e?(t=e,JSON.parse(JSON.stringify(t))):{};var t}},watch:{rules:{handler:function(e,t){this.setRules(e)},deep:!0,immediate:!0}},created(){getApp().$vm.$.appContext.config.globalProperties.binddata||(getApp().$vm.$.appContext.config.globalProperties.binddata=function(e,a,o){if(o)this.$refs[o].setValue(e,a);else{let o;for(let e in this.$refs){const t=this.$refs[e];if(t&&t.$options&&"uniForms"===t.$options.name){o=t;break}}if(!o)return t("error","at uni_modules/uni-forms/components/uni-forms/uni-forms.vue:187","当前 uni-froms 组件缺少 ref 属性");o.model&&(o.model[e]=a),o.modelValue&&(o.modelValue[e]=a),o.value&&(o.value[e]=a)}}),this.childrens=[],this.inputChildrens=[],this.setRules(this.rules)},methods:{setRules(e){this.formRules=Object.assign({},this.formRules,e),this.validator=new p(e)},setValue(e,t){let a=this.childrens.find((t=>t.name===e));return a?(this.formData[e]=h(0,t,this.formRules[e]&&this.formRules[e].rules||[]),a.onFieldChange(this.formData[e])):null},validate(e,t){return this.checkAll(this.formData,e,t)},validateField(e=[],t){e=[].concat(e);let a={};return this.childrens.forEach((t=>{const o=g(t.name);-1!==e.indexOf(o)&&(a=Object.assign({},a,{[o]:this.formData[o]}))})),this.checkAll(a,[],t)},clearValidate(e=[]){e=[].concat(e),this.childrens.forEach((t=>{if(0===e.length)t.errMsg="";else{const a=g(t.name);-1!==e.indexOf(a)&&(t.errMsg="")}}))},submit(e,a,o){for(let t in this.dataValue){this.childrens.find((e=>e.name===t))&&void 0===this.formData[t]&&(this.formData[t]=this._getValue(t,this.dataValue[t]))}return o||t("warn","at uni_modules/uni-forms/components/uni-forms/uni-forms.vue:296","submit 方法即将废弃，请使用validate方法代替！"),this.checkAll(this.formData,e,a,"submit")},async checkAll(e,t,a,o){if(!this.validator)return;let n,i=[];for(let c in e){const e=this.childrens.find((e=>g(e.name)===c));e&&i.push(e)}a||"function"!=typeof t||(a=t),!a&&"function"!=typeof a&&Promise&&(n=new Promise(((e,t)=>{a=function(a,o){a?t(a):e(o)}})));let l=[],s=JSON.parse(JSON.stringify(e));for(let c in i){const e=i[c];let t=g(e.name);const a=await e.onFieldChange(s[t]);if(a&&(l.push(a),"toast"===this.errShowType||"modal"===this.errShowType))break}Array.isArray(l)&&0===l.length&&(l=null),Array.isArray(t)&&t.forEach((e=>{let t=g(e),a=f(e,this.localData);void 0!==a&&(s[t]=a)})),"submit"===o?this.$emit("submit",{detail:{value:s,errors:l}}):this.$emit("validate",l);let r={};return r=((e={},t)=>{let a=JSON.parse(JSON.stringify(e)),o={};for(let n in a){let e=v(n);y(o,e,a[n])}return o})(s,this.name),a&&"function"==typeof a&&a(l,r),n&&a?n:null},validateCheck(e){this.$emit("validate",e)},_getValue:h,_isRequiredField:e=>{let t=!1;for(let a=0;a<e.length;a++){if(e[a].required){t=!0;break}}return t},_setDataValue:(e,t,a)=>(t[e]=a,a||""),_getDataValue:f,_realName:g,_isRealName:e=>/^_formdata_#*/.test(e),_isEqual:(e,t)=>{if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;var a=toString.call(e);if(a!==toString.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t}if("[object Object]"==a){var o=Object.getOwnPropertyNames(e),n=Object.getOwnPropertyNames(t);if(o.length!=n.length)return!1;for(var i=0;i<o.length;i++){var l=o[i];if(e[l]!==t[l])return!1}return!0}return"[object Array]"==a?e.toString()==t.toString():void 0}}},[["render",function(t,a,o,n,i,l){return e.openBlock(),e.createElementBlock("view",{class:"uni-forms"},[e.createElementVNode("form",null,[e.renderSlot(t.$slots,"default",{},void 0,!0)])])}],["__scopeId","data-v-5e601aef"]]);function E(e={}){let{url:a,method:o="GET",header:n={userToken:uni.getStorageSync("userToken")||""},data:i={}}=e;return a="http://47.109.139.91:8081"+a,new Promise(((e,l)=>{uni.request({url:a,method:o,header:n,data:i,success:a=>{t("log","at utils/request.js:22",a),200===a.data.code||200==a.status?e(a.data):400===a.data.code||0==a.data.status?(uni.showModal({title:"错误提示",content:a.data.msg,showCancel:!1}),l(a.data)):(uni.showToast({title:a.msg,icon:"none"}),l(a.data))},fail:e=>{t("log","at utils/request.js:41","1111111"),l(e)}})}))}function x(){return E({url:"/user/user/info",method:"get",header:{userToken:uni.getStorageSync("userToken")}})}function _(e){return E({url:"/user/user",method:"put",data:e,header:{userToken:uni.getStorageSync("userToken")}})}const C=l(e.defineComponent({__name:"Login",setup(o){const n=e.reactive({username:"",password:""}),i=async()=>{const e=await(a=n,E({url:"/user/user/login",method:"POST",header:{"Content-Type":"application/json"},data:a}));var a;t("log","at pages/Login/Login.vue:60","登录响应",e),200===e.code?(uni.setStorageSync("userToken",e.data.token),t("log","at pages/Login/Login.vue:64",e.data.token),uni.setStorageSync("userInfo",e.data),t("log","at pages/Login/Login.vue:67",e.data),uni.setStorageSync("userId",e.data.id),uni.reLaunch({url:"/pages/index/index"}),uni.showToast({title:"登录成功",icon:"success",duration:1e3})):(uni.showToast({title:"登录失败,请重新输入用户名和密码",icon:"fail",duration:1e3}),n.username="",n.password="")},l=()=>{t("log","at pages/Login/Login.vue:94","wenben"),uni.reLaunch({url:"/pages/register/register"})};return(t,o)=>{const r=a(e.resolveDynamicComponent("uni-forms-item"),s),c=e.resolveComponent("uni-text"),d=a(e.resolveDynamicComponent("uni-forms"),N);return e.openBlock(),e.createElementBlock("view",{class:"LoginLayout"},[e.createElementVNode("view",{class:"title"},[e.createElementVNode("text",null,"Welcome to FoodCourt")]),e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"login-title"},[e.createElementVNode("text",{class:"text",style:{"padding-left":"50rpx"}},"登录"),e.createElementVNode("view",{class:"",style:{width:"48px",height:"5px",background:"rgb(77, 190, 200)","margin-top":"25rpx","margin-left":"50rpx"}})]),e.createElementVNode("view",{class:"form"},[e.createVNode(d,{class:"form-items",modelValue:n,"onUpdate:modelValue":o[2]||(o[2]=e=>n=e)},{default:e.withCtx((()=>[e.createVNode(r,{name:"username"},{default:e.withCtx((()=>[e.withDirectives(e.createElementVNode("input",{type:"text",placeholder:"用户名",style:{"padding-left":"20rpx",height:"80rpx"},"onUpdate:modelValue":o[0]||(o[0]=e=>n.username=e)},null,512),[[e.vModelText,n.username]])])),_:1}),e.createVNode(r,{name:"password"},{default:e.withCtx((()=>[e.withDirectives(e.createElementVNode("input",{class:"uni-input",type:"safe-password",placeholder:"密码",style:{"padding-left":"20rpx",height:"80rpx"},"onUpdate:modelValue":o[1]||(o[1]=e=>n.password=e)},null,512),[[e.vModelText,n.password]])])),_:1}),e.createVNode(r,null,{default:e.withCtx((()=>[e.createVNode(c,{onClick:l,style:{float:"right",color:"rgb(77, 190, 200)","border-bottom":"1px solid rgb(77, 190, 200)","font-size":"16px"}},{default:e.withCtx((()=>[e.createTextVNode("注册账户")])),_:1})])),_:1}),e.createVNode(r,null,{default:e.withCtx((()=>[e.createElementVNode("button",{type:"primary",style:{"background-color":"rgb(77, 190, 200)",color:"#fff","border-radius":"50rpx","margin-top":"30rpx"},onClick:i},"登录")])),_:1})])),_:1},8,["modelValue"])])])])}}}),[["__scopeId","data-v-86419ad4"]]),S=[{font_class:"arrow-down",unicode:""},{font_class:"arrow-left",unicode:""},{font_class:"arrow-right",unicode:""},{font_class:"arrow-up",unicode:""},{font_class:"auth",unicode:""},{font_class:"auth-filled",unicode:""},{font_class:"back",unicode:""},{font_class:"bars",unicode:""},{font_class:"calendar",unicode:""},{font_class:"calendar-filled",unicode:""},{font_class:"camera",unicode:""},{font_class:"camera-filled",unicode:""},{font_class:"cart",unicode:""},{font_class:"cart-filled",unicode:""},{font_class:"chat",unicode:""},{font_class:"chat-filled",unicode:""},{font_class:"chatboxes",unicode:""},{font_class:"chatboxes-filled",unicode:""},{font_class:"chatbubble",unicode:""},{font_class:"chatbubble-filled",unicode:""},{font_class:"checkbox",unicode:""},{font_class:"checkbox-filled",unicode:""},{font_class:"checkmarkempty",unicode:""},{font_class:"circle",unicode:""},{font_class:"circle-filled",unicode:""},{font_class:"clear",unicode:""},{font_class:"close",unicode:""},{font_class:"closeempty",unicode:""},{font_class:"cloud-download",unicode:""},{font_class:"cloud-download-filled",unicode:""},{font_class:"cloud-upload",unicode:""},{font_class:"cloud-upload-filled",unicode:""},{font_class:"color",unicode:""},{font_class:"color-filled",unicode:""},{font_class:"compose",unicode:""},{font_class:"contact",unicode:""},{font_class:"contact-filled",unicode:""},{font_class:"down",unicode:""},{font_class:"bottom",unicode:""},{font_class:"download",unicode:""},{font_class:"download-filled",unicode:""},{font_class:"email",unicode:""},{font_class:"email-filled",unicode:""},{font_class:"eye",unicode:""},{font_class:"eye-filled",unicode:""},{font_class:"eye-slash",unicode:""},{font_class:"eye-slash-filled",unicode:""},{font_class:"fire",unicode:""},{font_class:"fire-filled",unicode:""},{font_class:"flag",unicode:""},{font_class:"flag-filled",unicode:""},{font_class:"folder-add",unicode:""},{font_class:"folder-add-filled",unicode:""},{font_class:"font",unicode:""},{font_class:"forward",unicode:""},{font_class:"gear",unicode:""},{font_class:"gear-filled",unicode:""},{font_class:"gift",unicode:""},{font_class:"gift-filled",unicode:""},{font_class:"hand-down",unicode:""},{font_class:"hand-down-filled",unicode:""},{font_class:"hand-up",unicode:""},{font_class:"hand-up-filled",unicode:""},{font_class:"headphones",unicode:""},{font_class:"heart",unicode:""},{font_class:"heart-filled",unicode:""},{font_class:"help",unicode:""},{font_class:"help-filled",unicode:""},{font_class:"home",unicode:""},{font_class:"home-filled",unicode:""},{font_class:"image",unicode:""},{font_class:"image-filled",unicode:""},{font_class:"images",unicode:""},{font_class:"images-filled",unicode:""},{font_class:"info",unicode:""},{font_class:"info-filled",unicode:""},{font_class:"left",unicode:""},{font_class:"link",unicode:""},{font_class:"list",unicode:""},{font_class:"location",unicode:""},{font_class:"location-filled",unicode:""},{font_class:"locked",unicode:""},{font_class:"locked-filled",unicode:""},{font_class:"loop",unicode:""},{font_class:"mail-open",unicode:""},{font_class:"mail-open-filled",unicode:""},{font_class:"map",unicode:""},{font_class:"map-filled",unicode:""},{font_class:"map-pin",unicode:""},{font_class:"map-pin-ellipse",unicode:""},{font_class:"medal",unicode:""},{font_class:"medal-filled",unicode:""},{font_class:"mic",unicode:""},{font_class:"mic-filled",unicode:""},{font_class:"micoff",unicode:""},{font_class:"micoff-filled",unicode:""},{font_class:"minus",unicode:""},{font_class:"minus-filled",unicode:""},{font_class:"more",unicode:""},{font_class:"more-filled",unicode:""},{font_class:"navigate",unicode:""},{font_class:"navigate-filled",unicode:""},{font_class:"notification",unicode:""},{font_class:"notification-filled",unicode:""},{font_class:"paperclip",unicode:""},{font_class:"paperplane",unicode:""},{font_class:"paperplane-filled",unicode:""},{font_class:"person",unicode:""},{font_class:"person-filled",unicode:""},{font_class:"personadd",unicode:""},{font_class:"personadd-filled",unicode:""},{font_class:"personadd-filled-copy",unicode:""},{font_class:"phone",unicode:""},{font_class:"phone-filled",unicode:""},{font_class:"plus",unicode:""},{font_class:"plus-filled",unicode:""},{font_class:"plusempty",unicode:""},{font_class:"pulldown",unicode:""},{font_class:"pyq",unicode:""},{font_class:"qq",unicode:""},{font_class:"redo",unicode:""},{font_class:"redo-filled",unicode:""},{font_class:"refresh",unicode:""},{font_class:"refresh-filled",unicode:""},{font_class:"refreshempty",unicode:""},{font_class:"reload",unicode:""},{font_class:"right",unicode:""},{font_class:"scan",unicode:""},{font_class:"search",unicode:""},{font_class:"settings",unicode:""},{font_class:"settings-filled",unicode:""},{font_class:"shop",unicode:""},{font_class:"shop-filled",unicode:""},{font_class:"smallcircle",unicode:""},{font_class:"smallcircle-filled",unicode:""},{font_class:"sound",unicode:""},{font_class:"sound-filled",unicode:""},{font_class:"spinner-cycle",unicode:""},{font_class:"staff",unicode:""},{font_class:"staff-filled",unicode:""},{font_class:"star",unicode:""},{font_class:"star-filled",unicode:""},{font_class:"starhalf",unicode:""},{font_class:"trash",unicode:""},{font_class:"trash-filled",unicode:""},{font_class:"tune",unicode:""},{font_class:"tune-filled",unicode:""},{font_class:"undo",unicode:""},{font_class:"undo-filled",unicode:""},{font_class:"up",unicode:""},{font_class:"top",unicode:""},{font_class:"upload",unicode:""},{font_class:"upload-filled",unicode:""},{font_class:"videocam",unicode:""},{font_class:"videocam-filled",unicode:""},{font_class:"vip",unicode:""},{font_class:"vip-filled",unicode:""},{font_class:"wallet",unicode:""},{font_class:"wallet-filled",unicode:""},{font_class:"weibo",unicode:""},{font_class:"weixin",unicode:""}];const B=l({name:"UniIcons",emits:["click"],props:{type:{type:String,default:""},color:{type:String,default:"#333333"},size:{type:[Number,String],default:16},customPrefix:{type:String,default:""},fontFamily:{type:String,default:""}},data:()=>({icons:S}),computed:{unicode(){let e=this.icons.find((e=>e.font_class===this.type));return e?e.unicode:""},iconSize(){return"number"==typeof(e=this.size)||/^[0-9]*$/g.test(e)?e+"px":e;var e},styleObj(){return""!==this.fontFamily?`color: ${this.color}; font-size: ${this.iconSize}; font-family: ${this.fontFamily};`:`color: ${this.color}; font-size: ${this.iconSize};`}},methods:{_onClick(){this.$emit("click")}}},[["render",function(t,a,o,n,i,l){return e.openBlock(),e.createElementBlock("text",{style:e.normalizeStyle(l.styleObj),class:e.normalizeClass(["uni-icons",["uniui-"+o.type,o.customPrefix,o.customPrefix?o.type:""]]),onClick:a[0]||(a[0]=(...e)=>l._onClick&&l._onClick(...e))},[e.renderSlot(t.$slots,"default",{},void 0,!0)],6)}],["__scopeId","data-v-5610c8db"]]),D={__name:"index",setup(t){e.onMounted((()=>{r()}));const o=()=>{r()};e.computed((()=>{const e=new Date;return`${e.getMonth()+1}月${e.getDate()}日 星期${["日","一","二","三","四","五","六"][e.getDay()]}`}));const i=e.ref([{image:"https://food-court.oss-cn-hangzhou.aliyuncs.com/46.png",title:"健康饮食新主张",subtitle:"了解如何通过饮食提升免疫力"},{image:"https://food-court.oss-cn-hangzhou.aliyuncs.com/65.png",title:"食品安全指南",subtitle:"掌握食品安全基本知识"},{image:"https://food-court.oss-cn-hangzhou.aliyuncs.com/72.png",title:"营养搭配建议",subtitle:"均衡饮食的科学方法"}]),l=e.ref([{icon:"scan",iconColor:"#4CAF50",bgColor:"#C8E6C9",label:"扫码查询"},{icon:"paperplane",iconColor:"#8B5CF6",bgColor:"#EDE9FE",label:"运动计划"},{icon:"chat",iconColor:"#F97316",bgColor:"#FFEDD5",label:"AI助手"}]),s=e.reactive([{id:0,foodName:"",picture:"",desc:"",compose:"",benifit:"",protein:"",carbohydrate:"",fat:"",bmi:22,disease:"无",age:29,allergy:null,target:null,composeList:[],benifitList:[],kilo:48}]),r=async()=>{const e=await E({url:"/suggest",method:"get",header:{userToken:uni.getStorageSync("userToken")}});200===e.code?Object.assign(s,e.data):uni.showToast({title:"获取推荐列表失败",icon:"fail",duration:1e3})},c=e.ref([{id:1,image:"https://food-court.oss-cn-hangzhou.aliyuncs.com/87.png",title:"常见食品添加剂安全指南",subtitle:"了解哪些添加剂是安全的"},{id:2,image:"https://food-court.oss-cn-hangzhou.aliyuncs.com/91.png",title:"有机食品真的更健康吗？",subtitle:"科学解析有机食品的优势"}]);return n((()=>{})),(t,n)=>{const r=a(e.resolveDynamicComponent("uni-icons"),B);return e.openBlock(),e.createElementBlock("view",{class:"home-container"},[e.createElementVNode("view",{class:"top-bar"},[e.createElementVNode("view",{class:"top-bar-bg"}),e.createElementVNode("view",{class:"top-bar-content"},[e.createElementVNode("view",{class:"location-info"},[e.createVNode(r,{type:"location-filled",size:"20",color:"#4CAF50"}),e.createElementVNode("text",{class:"location-text"},"重庆市")]),e.createElementVNode("view",{class:"search-content"}),e.createElementVNode("view",{class:"weather-info"},[e.createVNode(r,{type:"partly-cloudy",size:"15",color:"#4CAF50"}),e.createElementVNode("text",{class:"weather-text"},"28°C 晴")])])]),e.createElementVNode("view",{class:"content-container"},[e.createElementVNode("swiper",{class:"carousel",autoplay:!0,interval:3e3,circular:!0},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.value,((t,a)=>(e.openBlock(),e.createElementBlock("swiper-item",{key:a},[e.createElementVNode("view",{class:"carousel-item"},[e.createElementVNode("image",{src:t.image,mode:"aspectFill",class:"carousel-image"},null,8,["src"]),e.createElementVNode("view",{class:"carousel-overlay"},[e.createElementVNode("text",{class:"carousel-title"},e.toDisplayString(t.title),1),e.createElementVNode("text",{class:"carousel-subtitle"},e.toDisplayString(t.subtitle),1)])])])))),128))]),e.createElementVNode("view",{class:"quick-actions"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.value,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:a,class:"quick-action-item",onClick:e=>(e=>{const t=["/pages/camera/camera","/pages/playing/playing","/pages/chating/chating"];0==e?uni.navigateTo({url:t[e]}):uni.reLaunch({url:t[e]})})(a)},[e.createElementVNode("view",{class:"action-icon-container",style:e.normalizeStyle({backgroundColor:t.bgColor})},[e.createVNode(r,{type:t.icon,size:"24",color:t.iconColor},null,8,["type","color"])],4),e.createElementVNode("text",{class:"action-label"},e.toDisplayString(t.label),1)],8,["onClick"])))),128))]),e.createElementVNode("view",{class:"section"},[e.createElementVNode("view",{class:"section-header"},[e.createElementVNode("text",{class:"section-title"},"每日推荐"),e.createVNode(r,{type:"loop",size:"20",color:"#4CAF50",onClick:o})]),e.createElementVNode("view",{class:"recommendation-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:a,class:"recommendation-card",onClick:e=>{return a=t.id,uni.setStorageSync("foodId",a),void uni.reLaunch({url:"/pages/DaytoDay/DaytoDay"});var a}},[e.createElementVNode("image",{src:t.picture,mode:"aspectFill",class:"recommendation-image"},null,8,["src"]),e.createElementVNode("view",{class:"recommendation-content"},[e.createElementVNode("view",{class:"recommendation-header"},[e.createElementVNode("text",{class:"recommendation-title"},e.toDisplayString(t.foodName),1),e.createElementVNode("text",{class:"status-safe"},"推荐")]),e.createElementVNode("text",{class:"recommendation-desc"},e.toDisplayString(t.desc),1),e.createElementVNode("view",{class:"recommendation-meta"},[e.createElementVNode("view",{class:"meta-item"},[e.createVNode(r,{type:"fire-filled",size:"14",color:"#FB923C"}),e.createElementVNode("text",{class:"meta-text"},e.toDisplayString(t.kilo+"千卡"),1)]),e.createElementVNode("view",{class:"meta-item"},[e.createVNode(r,{type:"clock-filled",size:"14",color:"#60A5FA"}),e.createElementVNode("text",{class:"meta-text"},e.toDisplayString("10分钟"))])])])],8,["onClick"])))),128))])]),e.createElementVNode("view",{class:"section"},[e.createElementVNode("view",{class:"section-header"},[e.createElementVNode("text",{class:"section-title"},"健康资讯"),e.createVNode(r,{class:"section-more",type:"chat-filled",size:"20",color:"#4CAF50"})]),e.createElementVNode("view",{class:"news-grid"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(c.value,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:a,class:"news-card",onClick:e=>{return a=`/pages/news/detail?id=${t.id}`,void uni.navigateTo({url:a});var a}},[e.createElementVNode("image",{src:t.image,mode:"aspectFill",class:"news-image"},null,8,["src"]),e.createElementVNode("text",{class:"news-title"},e.toDisplayString(t.title),1),e.createElementVNode("text",{class:"news-subtitle"},e.toDisplayString(t.subtitle),1)],8,["onClick"])))),128))])])])])}}};class T{constructor(e,t){this.options=e,this.animation=uni.createAnimation({...e}),this.currentStepAnimates={},this.next=0,this.$=t}_nvuePushAnimates(e,t){let a=this.currentStepAnimates[this.next],o={};if(o=a||{styles:{},config:{}},L.includes(e)){o.styles.transform||(o.styles.transform="");let a="";"rotate"===e&&(a="deg"),o.styles.transform+=`${e}(${t+a}) `}else o.styles[e]=`${t}`;this.currentStepAnimates[this.next]=o}_animateRun(e={},t={}){let a=this.$.$refs.ani.ref;if(a)return new Promise(((o,n)=>{nvueAnimation.transition(a,{styles:e,...t},(e=>{o()}))}))}_nvueNextAnimate(e,t=0,a){let o=e[t];if(o){let{styles:n,config:i}=o;this._animateRun(n,i).then((()=>{t+=1,this._nvueNextAnimate(e,t,a)}))}else this.currentStepAnimates={},"function"==typeof a&&a(),this.isEnd=!0}step(e={}){return this.animation.step(e),this}run(e){this.$.animationData=this.animation.export(),this.$.timer=setTimeout((()=>{"function"==typeof e&&e()}),this.$.durationTime)}}const L=["matrix","matrix3d","rotate","rotate3d","rotateX","rotateY","rotateZ","scale","scale3d","scaleX","scaleY","scaleZ","skew","skewX","skewY","translate","translate3d","translateX","translateY","translateZ"];function A(e,t){if(t)return clearTimeout(t.timer),new T(e,t)}L.concat(["opacity","backgroundColor"],["width","height","left","right","top","bottom"]).forEach((e=>{T.prototype[e]=function(...t){return this.animation[e](...t),this}}));const F=l({name:"uniTransition",emits:["click","change"],props:{show:{type:Boolean,default:!1},modeClass:{type:[Array,String],default:()=>"fade"},duration:{type:Number,default:300},styles:{type:Object,default:()=>({})},customClass:{type:String,default:""},onceRender:{type:Boolean,default:!1}},data:()=>({isShow:!1,transform:"",opacity:1,animationData:{},durationTime:300,config:{}}),watch:{show:{handler(e){e?this.open():this.isShow&&this.close()},immediate:!0}},computed:{stylesObject(){let e={...this.styles,"transition-duration":this.duration/1e3+"s"},t="";for(let a in e){t+=this.toLine(a)+":"+e[a]+";"}return t},transformStyles(){return"transform:"+this.transform+";opacity:"+this.opacity+";"+this.stylesObject}},created(){this.config={duration:this.duration,timingFunction:"ease",transformOrigin:"50% 50%",delay:0},this.durationTime=this.duration},methods:{init(e={}){e.duration&&(this.durationTime=e.duration),this.animation=A(Object.assign(this.config,e),this)},onClick(){this.$emit("click",{detail:this.isShow})},step(e,a={}){if(this.animation){for(let a in e)try{"object"==typeof e[a]?this.animation[a](...e[a]):this.animation[a](e[a])}catch(o){t("error","at uni_modules/uni-transition/components/uni-transition/uni-transition.vue:148",`方法 ${a} 不存在`)}return this.animation.step(a),this}},run(e){this.animation&&this.animation.run(e)},open(){clearTimeout(this.timer),this.transform="",this.isShow=!0;let{opacity:e,transform:t}=this.styleInit(!1);void 0!==e&&(this.opacity=e),this.transform=t,this.$nextTick((()=>{this.timer=setTimeout((()=>{this.animation=A(this.config,this),this.tranfromInit(!1).step(),this.animation.run(),this.$emit("change",{detail:this.isShow})}),20)}))},close(e){this.animation&&this.tranfromInit(!0).step().run((()=>{this.isShow=!1,this.animationData=null,this.animation=null;let{opacity:e,transform:t}=this.styleInit(!1);this.opacity=e||1,this.transform=t,this.$emit("change",{detail:this.isShow})}))},styleInit(e){let t={transform:""},a=(e,a)=>{"fade"===a?t.opacity=this.animationType(e)[a]:t.transform+=this.animationType(e)[a]+" "};return"string"==typeof this.modeClass?a(e,this.modeClass):this.modeClass.forEach((t=>{a(e,t)})),t},tranfromInit(e){let t=(e,t)=>{let a=null;"fade"===t?a=e?0:1:(a=e?"-100%":"0","zoom-in"===t&&(a=e?.8:1),"zoom-out"===t&&(a=e?1.2:1),"slide-right"===t&&(a=e?"100%":"0"),"slide-bottom"===t&&(a=e?"100%":"0")),this.animation[this.animationMode()[t]](a)};return"string"==typeof this.modeClass?t(e,this.modeClass):this.modeClass.forEach((a=>{t(e,a)})),this.animation},animationType:e=>({fade:e?0:1,"slide-top":`translateY(${e?"0":"-100%"})`,"slide-right":`translateX(${e?"0":"100%"})`,"slide-bottom":`translateY(${e?"0":"100%"})`,"slide-left":`translateX(${e?"0":"-100%"})`,"zoom-in":`scaleX(${e?1:.8}) scaleY(${e?1:.8})`,"zoom-out":`scaleX(${e?1:1.2}) scaleY(${e?1:1.2})`}),animationMode:()=>({fade:"opacity","slide-top":"translateY","slide-right":"translateX","slide-bottom":"translateY","slide-left":"translateX","zoom-in":"scale","zoom-out":"scale"}),toLine:e=>e.replace(/([A-Z])/g,"-$1").toLowerCase()}},[["render",function(t,a,o,n,i,l){return e.withDirectives((e.openBlock(),e.createElementBlock("view",{ref:"ani",animation:i.animationData,class:e.normalizeClass(o.customClass),style:e.normalizeStyle(l.transformStyles),onClick:a[0]||(a[0]=(...e)=>l.onClick&&l.onClick(...e))},[e.renderSlot(t.$slots,"default")],14,["animation"])),[[e.vShow,i.isShow]])}]]);const $=l({name:"uniPopup",components:{},emits:["change","maskClick"],props:{animation:{type:Boolean,default:!0},type:{type:String,default:"center"},isMaskClick:{type:Boolean,default:null},maskClick:{type:Boolean,default:null},backgroundColor:{type:String,default:"none"},safeArea:{type:Boolean,default:!0},maskBackgroundColor:{type:String,default:"rgba(0, 0, 0, 0.4)"},borderRadius:{type:String}},watch:{type:{handler:function(e){this.config[e]&&this[this.config[e]](!0)},immediate:!0},isDesktop:{handler:function(e){this.config[e]&&this[this.config[this.type]](!0)},immediate:!0},maskClick:{handler:function(e){this.mkclick=e},immediate:!0},isMaskClick:{handler:function(e){this.mkclick=e},immediate:!0},showPopup(e){}},data(){return{duration:300,ani:[],showPopup:!1,showTrans:!1,popupWidth:0,popupHeight:0,config:{top:"top",bottom:"bottom",center:"center",left:"left",right:"right",message:"top",dialog:"center",share:"bottom"},maskClass:{position:"fixed",bottom:0,top:0,left:0,right:0,backgroundColor:"rgba(0, 0, 0, 0.4)"},transClass:{backgroundColor:"transparent",borderRadius:this.borderRadius||"0",position:"fixed",left:0,right:0},maskShow:!0,mkclick:!0,popupstyle:"top"}},computed:{getStyles(){let e={backgroundColor:this.bg};return this.borderRadius,e=Object.assign(e,{borderRadius:this.borderRadius}),e},isDesktop(){return this.popupWidth>=500&&this.popupHeight>=500},bg(){return""===this.backgroundColor||"none"===this.backgroundColor?"transparent":this.backgroundColor}},mounted(){(()=>{const{windowWidth:e,windowHeight:t,windowTop:a,safeArea:o,screenHeight:n,safeAreaInsets:i}=uni.getSystemInfoSync();this.popupWidth=e,this.popupHeight=t+(a||0),o&&this.safeArea?this.safeAreaInsets=i.bottom:this.safeAreaInsets=0})()},unmounted(){this.setH5Visible()},activated(){this.setH5Visible(!this.showPopup)},deactivated(){this.setH5Visible(!0)},created(){null===this.isMaskClick&&null===this.maskClick?this.mkclick=!0:this.mkclick=null!==this.isMaskClick?this.isMaskClick:this.maskClick,this.animation?this.duration=300:this.duration=0,this.messageChild=null,this.clearPropagation=!1,this.maskClass.backgroundColor=this.maskBackgroundColor},methods:{setH5Visible(e=!0){},closeMask(){this.maskShow=!1},disableMask(){this.mkclick=!1},clear(e){e.stopPropagation(),this.clearPropagation=!0},open(e){if(this.showPopup)return;e&&-1!==["top","center","bottom","left","right","message","dialog","share"].indexOf(e)||(e=this.type),this.config[e]?(this[this.config[e]](),this.$emit("change",{show:!0,type:e})):t("error","at uni_modules/uni-popup/components/uni-popup/uni-popup.vue:310","缺少类型：",e)},close(e){this.showTrans=!1,this.$emit("change",{show:!1,type:this.type}),clearTimeout(this.timer),this.timer=setTimeout((()=>{this.showPopup=!1}),300)},touchstart(){this.clearPropagation=!1},onTap(){this.clearPropagation?this.clearPropagation=!1:(this.$emit("maskClick"),this.mkclick&&this.close())},top(e){this.popupstyle=this.isDesktop?"fixforpc-top":"top",this.ani=["slide-top"],this.transClass={position:"fixed",left:0,right:0,backgroundColor:this.bg,borderRadius:this.borderRadius||"0"},e||(this.showPopup=!0,this.showTrans=!0,this.$nextTick((()=>{this.showPoptrans(),this.messageChild&&"message"===this.type&&this.messageChild.timerClose()})))},bottom(e){this.popupstyle="bottom",this.ani=["slide-bottom"],this.transClass={position:"fixed",left:0,right:0,bottom:0,paddingBottom:this.safeAreaInsets+"px",backgroundColor:this.bg,borderRadius:this.borderRadius||"0"},e||this.showPoptrans()},center(e){this.popupstyle="center",this.ani=["zoom-out","fade"],this.transClass={position:"fixed",display:"flex",flexDirection:"column",bottom:0,left:0,right:0,top:0,justifyContent:"center",alignItems:"center",borderRadius:this.borderRadius||"0"},e||this.showPoptrans()},left(e){this.popupstyle="left",this.ani=["slide-left"],this.transClass={position:"fixed",left:0,bottom:0,top:0,backgroundColor:this.bg,borderRadius:this.borderRadius||"0",display:"flex",flexDirection:"column"},e||this.showPoptrans()},right(e){this.popupstyle="right",this.ani=["slide-right"],this.transClass={position:"fixed",bottom:0,right:0,top:0,backgroundColor:this.bg,borderRadius:this.borderRadius||"0",display:"flex",flexDirection:"column"},e||this.showPoptrans()},showPoptrans(){this.$nextTick((()=>{this.showPopup=!0,this.showTrans=!0}))}}},[["render",function(t,o,n,i,l,s){const r=a(e.resolveDynamicComponent("uni-transition"),F);return l.showPopup?(e.openBlock(),e.createElementBlock("view",{key:0,class:e.normalizeClass(["uni-popup",[l.popupstyle,s.isDesktop?"fixforpc-z-index":""]])},[e.createElementVNode("view",{onTouchstart:o[1]||(o[1]=(...e)=>s.touchstart&&s.touchstart(...e))},[l.maskShow?(e.openBlock(),e.createBlock(r,{key:"1",name:"mask","mode-class":"fade",styles:l.maskClass,duration:l.duration,show:l.showTrans,onClick:s.onTap},null,8,["styles","duration","show","onClick"])):e.createCommentVNode("",!0),e.createVNode(r,{key:"2","mode-class":l.ani,name:"content",styles:l.transClass,duration:l.duration,show:l.showTrans,onClick:s.onTap},{default:e.withCtx((()=>[e.createElementVNode("view",{class:e.normalizeClass(["uni-popup__wrapper",[l.popupstyle]]),style:e.normalizeStyle(s.getStyles),onClick:o[0]||(o[0]=(...e)=>s.clear&&s.clear(...e))},[e.renderSlot(t.$slots,"default",{},void 0,!0)],6)])),_:3},8,["mode-class","styles","duration","show","onClick"])],32)],2)):e.createCommentVNode("",!0)}],["__scopeId","data-v-73d3b141"]]),z={__name:"user",setup(o){const n=e.reactive({id:3,username:"",name:"",password:"",age:0,phone:"",sex:0,idNumber:"",avatar:"",status:"",tail:0,weight:0,allergy:"",disease:"",target:"",createTime:null,bim:0}),i=e.reactive({username:"zhang_xiaojian",phone:"138****5678",email:"xiaojian@example.com",registerTime:"2023-01-15"}),l=e.reactive({height:175,weight:68,bmi:22.2,bloodPressure:"120/80",allergies:"海鲜、花生",chronicDiseases:"无",healthGoal:"减重5kg"}),s=async()=>{const e=await x();if(t("log","at pages/user/user.vue:266",e.data),200===e.code){if(Object.assign(n,e.data),n.weight&&n.tail){const e=n.tail/100;n.bim=(n.weight/(e*e)).toFixed(2)}else n.bim=0;t("log","at pages/user/user.vue:278","计算后的BMI:",n.bim)}else uni.showToast({title:"请求失败",icon:"fail",duration:1e3}),n={}};e.onMounted((()=>{s()})),e.reactive({...i,bio:n.bio}),e.reactive({height:l.height,weight:l.weight,systolic:120,diastolic:80,allergies:l.allergies,chronicDiseases:l.chronicDiseases,healthGoal:l.healthGoal});const r=e.reactive({notification:!0,darkMode:!1,language:0}),c=e.ref(["无","高血压","糖尿病","心脏病","其他"]),d=e.ref(["减重5kg","增肌","改善睡眠","控制血压","均衡营养"]);e.ref(["简体中文","English"]);const u=e.ref(null),m=e.ref(null),p=e.ref(null),h=()=>{u.value.open()},f=()=>{m.value.open()},g=()=>{p.value.open()},v=()=>{u.value.close(),m.value.close(),p.value.close()},y=async()=>{Object.assign(n,n);200===(await _(n)).code&&(uni.showToast({title:"个人资料已更新",icon:"success"}),s()),v()},w=async()=>{200===(await _(n)).code&&(uni.showToast({title:"个人资料已更新",icon:"success"}),s()),uni.showToast({title:"健康数据已更新",icon:"success"}),v()},b=()=>{uni.chooseImage({count:1,sizeType:["compressed"],sourceType:["album","camera"],success:e=>{const a=e.tempFilePaths[0];uni.showLoading({title:"上传中..."}),uni.uploadFile({url:"http://47.109.139.91:8081/admin/common/upload",header:{userToken:uni.getStorageSync("userToken")},method:"post",filePath:a,name:"file",success:e=>{uni.hideLoading(),t("log","at pages/user/user.vue:409","上传响应:",e);try{const a=JSON.parse(e.data);t("log","at pages/user/user.vue:415","解析后的数据:",a),200===a.code&&a.data?(n.avatar=a.data,uni.showToast({title:"头像已更新",icon:"success",duration:2e3})):uni.showToast({title:a.msg||"上传失败",icon:"none",duration:2e3})}catch(a){t("error","at pages/user/user.vue:437","解析响应数据失败:",a),uni.showToast({title:"上传失败",icon:"none",duration:2e3})}},fail:e=>{t("error","at pages/user/user.vue:446","上传失败:",e),uni.hideLoading(),uni.showToast({title:"上传失败",icon:"none",duration:2e3})}})},fail:e=>{t("error","at pages/user/user.vue:461","选择图片失败:",e),uni.showToast({title:"选择图片失败",icon:"none"})}})},k=e=>{r.notification=e.detail.value,!0===r.notification?uni.showToast({title:"设置提醒成功",icon:"success"}):uni.showToast({title:"取消提醒成功",icon:"success"})},V=()=>{uni.showModal({title:"提示",content:"确定要清除缓存吗？",success:e=>{e.confirm&&(uni.clearStorageSync(),uni.showToast({title:"缓存已清除",icon:"success"}))}})},N=e.ref({appName:"安食阁",version:"1.0.1",description:"一款专注于食品安全与健康的APP，帮助您了解食品成分，管理健康数据。",contact:"support@healthyfood.com",website:"www.ailissovhy.foodCourt.cn"}),E=()=>{uni.showModal({title:`关于 ${N.value.appName}`,content:`\n版本: ${N.value.version}\n    \n${N.value.description}\n    \n联系我们: ${N.value.contact}\n官网: ${N.value.website}\n    `,showCancel:!1,confirmText:"我知道了"})},C=()=>{uni.showModal({title:"隐私政策",content:"我们非常重视您的隐私。本应用收集的数据仅用于改善用户体验和提供个性化服务。我们不会将您的数据出售给第三方。",showCancel:!1,confirmText:"我明白了"})},S=()=>{uni.showModal({title:"提示",content:"确定要退出登录吗？",success:async e=>{if(e.confirm)try{uni.showLoading({title:"正在退出...",mask:!0}),uni.removeStorageSync("userToken"),uni.removeStorageSync("userInfo"),uni.reLaunch({url:"/pages/Login/Login",success:()=>{uni.showToast({title:"退出成功",icon:"success",duration:1500})},fail:e=>{t("error","at pages/user/user.vue:575","跳转登录页失败:",e),uni.showToast({title:"退出失败，请重试",icon:"none"})}})}catch(a){t("error","at pages/user/user.vue:584","退出登录出错:",a),uni.showToast({title:"退出失败",icon:"none"})}finally{uni.hideLoading()}}})};return(t,o)=>{const i=a(e.resolveDynamicComponent("uni-icons"),B),s=a(e.resolveDynamicComponent("uni-popup"),$);return e.openBlock(),e.createElementBlock("view",{class:"page-container"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("text",{class:"header-title"},"个人中心")]),e.createElementVNode("view",{class:"profile-header"},[e.createElementVNode("view",{class:"avatar-container"},[e.createElementVNode("image",{class:"avatar",src:n.avatar,mode:"aspectFill"},null,8,["src"]),e.createElementVNode("view",{class:"edit-avatar",onClick:b},[e.createVNode(i,{type:"camera-filled",size:"16",color:"#4CAF50"})])]),e.createElementVNode("view",{class:"username"},e.toDisplayString(n.name),1),e.createElementVNode("view",{class:"settings-btn",onClick:g},[e.createVNode(i,{type:"gear-filled",size:"20",color:"#fff"})])]),e.createElementVNode("view",{class:"section-card"},[e.createElementVNode("view",{class:"section-header"},[e.createElementVNode("text",{class:"section-title"},"账号信息"),e.createElementVNode("text",{class:"text-primary",onClick:h},"编辑")]),e.createElementVNode("view",{class:"section-content"},[e.createElementVNode("view",{class:"info-item"},[e.createElementVNode("view",{class:"info-label"},"用户名"),e.createElementVNode("view",{class:"info-value"},e.toDisplayString(n.username),1)]),e.createElementVNode("view",{class:"info-item"},[e.createElementVNode("view",{class:"info-label"},"手机号"),e.createElementVNode("view",{class:"info-value"},e.toDisplayString(n.phone),1)]),e.createElementVNode("view",{class:"info-item"},[e.createElementVNode("view",{class:"info-label"},"性别"),e.createElementVNode("view",{class:"info-value"},e.toDisplayString(n.sex),1)]),e.createElementVNode("view",{class:"info-item"},[e.createElementVNode("view",{class:"info-label"},"注册时间"),e.createElementVNode("view",{class:"info-value"},e.toDisplayString(n.createTime),1)])])]),e.createElementVNode("view",{class:"section-card"},[e.createElementVNode("view",{class:"section-header"},[e.createElementVNode("text",{class:"section-title"},"健康数据"),e.createElementVNode("text",{class:"text-primary",onClick:f},"编辑")]),e.createElementVNode("view",{class:"section-content"},[e.createElementVNode("view",{class:"health-data-grid"},[e.createElementVNode("view",{class:"health-data-item"},[e.createElementVNode("view",{class:"data-value"},e.toDisplayString(n.tail),1),e.createElementVNode("view",{class:"data-label"},"身高 (cm)")]),e.createElementVNode("view",{class:"health-data-item"},[e.createElementVNode("view",{class:"data-value"},e.toDisplayString(n.weight),1),e.createElementVNode("view",{class:"data-label"},"体重 (kg)")]),e.createElementVNode("view",{class:"health-data-item"},[e.createElementVNode("view",{class:"data-value"},e.toDisplayString(n.bim),1),e.createElementVNode("view",{class:"data-label"},"BMI")]),e.createElementVNode("view",{class:"health-data-item"},[e.createElementVNode("view",{class:"data-value"},e.toDisplayString(l.bloodPressure),1),e.createElementVNode("view",{class:"data-label"},"血压 (mmHg)")])]),e.createElementVNode("view",{class:"mt-4"},[e.createElementVNode("view",{class:"info-item"},[e.createElementVNode("view",{class:"info-label"},"过敏源"),e.createElementVNode("view",{class:"info-value"},e.toDisplayString(n.allergy),1)]),e.createElementVNode("view",{class:"info-item"},[e.createElementVNode("view",{class:"info-label"},"慢性病史"),e.createElementVNode("view",{class:"info-value"},e.toDisplayString(n.disease),1)]),e.createElementVNode("view",{class:"info-item"},[e.createElementVNode("view",{class:"info-label"},"健康目标"),e.createElementVNode("view",{class:"info-value"},e.toDisplayString(n.target),1)])])])]),e.createVNode(s,{ref_key:"editProfileModal",ref:u,type:"center","mask-click":!1},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"modal-content"},[e.createElementVNode("view",{class:"modal-header"},[e.createElementVNode("text",{class:"modal-title"},"编辑个人资料"),e.createVNode(i,{type:"closeempty",size:"20",onClick:v})]),e.createElementVNode("view",{class:"form-group"},[e.createElementVNode("label",{class:"form-label"},"用户名"),e.withDirectives(e.createElementVNode("input",{class:"form-input","onUpdate:modelValue":o[0]||(o[0]=e=>n.username=e),type:"text"},null,512),[[e.vModelText,n.username]])]),e.createElementVNode("view",{class:"form-group"},[e.createElementVNode("label",{class:"form-label"},"手机号"),e.withDirectives(e.createElementVNode("input",{class:"form-input","onUpdate:modelValue":o[1]||(o[1]=e=>n.phone=e),type:"tel"},null,512),[[e.vModelText,n.phone]])]),e.createElementVNode("view",{class:"form-group"},[e.createElementVNode("label",{class:"form-label"},"性别"),e.withDirectives(e.createElementVNode("input",{class:"form-input","onUpdate:modelValue":o[2]||(o[2]=e=>n.sex=e),type:"tel"},null,512),[[e.vModelText,n.sex]])]),e.createElementVNode("view",{class:"modal-footer"},[e.createElementVNode("button",{class:"btn-secondary",onClick:v},"取消"),e.createElementVNode("button",{class:"btn-primary",onClick:y},"保存")])])])),_:1},512),e.createVNode(s,{ref_key:"editHealthDataModal",ref:m,type:"center","mask-click":!1},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"modal-content"},[e.createElementVNode("view",{class:"modal-header"},[e.createElementVNode("text",{class:"modal-title"},"编辑健康数据"),e.createVNode(i,{type:"closeempty",size:"20",onClick:v})]),e.createElementVNode("view",{class:"form-group"},[e.createElementVNode("label",{class:"form-label"},"身高 (cm)"),e.withDirectives(e.createElementVNode("input",{class:"form-input","onUpdate:modelValue":o[3]||(o[3]=e=>n.tail=e),type:"number"},null,512),[[e.vModelText,n.tail]])]),e.createElementVNode("view",{class:"form-group"},[e.createElementVNode("label",{class:"form-label"},"体重 (kg)"),e.withDirectives(e.createElementVNode("input",{class:"form-input","onUpdate:modelValue":o[4]||(o[4]=e=>n.weight=e),type:"number"},null,512),[[e.vModelText,n.weight]])]),e.createElementVNode("view",{class:"form-group"},[e.createElementVNode("label",{class:"form-label"},"过敏源"),e.withDirectives(e.createElementVNode("input",{class:"form-input","onUpdate:modelValue":o[5]||(o[5]=e=>n.allergy=e),type:"text"},null,512),[[e.vModelText,n.allergy]])]),e.createElementVNode("view",{class:"form-group"},[e.createElementVNode("label",{class:"form-label"},"慢性病史"),e.createElementVNode("picker",{class:"form-select",range:c.value,onChange:o[6]||(o[6]=e=>(e=>{const t=e.detail.value;n.disease=c.value[t]})(e))},[e.createElementVNode("view",null,e.toDisplayString(n.disease||"请选择"),1)],40,["range"])]),e.createElementVNode("view",{class:"form-group"},[e.createElementVNode("label",{class:"form-label"},"健康目标"),e.createElementVNode("picker",{class:"form-select",range:d.value,onChange:o[7]||(o[7]=e=>(e=>{const t=e.detail.value;n.target=d.value[t]})(e))},[e.createElementVNode("view",null,e.toDisplayString(n.target||"请选择"),1)],40,["range"])]),e.createElementVNode("view",{class:"modal-footer"},[e.createElementVNode("button",{class:"btn-secondary",onClick:v},"取消"),e.createElementVNode("button",{class:"btn-primary",onClick:w},"保存")])])])),_:1},512),e.createVNode(s,{ref_key:"settingsModal",ref:p,type:"bottom"},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"settings-modal"},[e.createElementVNode("view",{class:"modal-header"},[e.createElementVNode("text",{class:"modal-title"},"设置"),e.createVNode(i,{type:"closeempty",size:"20",onClick:v})]),e.createElementVNode("view",{class:"settings-item"},[e.createElementVNode("view",{class:"settings-label"},"通知提醒"),e.createElementVNode("switch",{checked:r.notification,onChange:k,color:"#4CAF50"},null,40,["checked"])]),e.createElementVNode("view",{class:"settings-item",onClick:V},[e.createElementVNode("view",{class:"settings-label"},"清除缓存"),e.createVNode(i,{type:"forward",size:"16",color:"#999"})]),e.createElementVNode("view",{class:"settings-item",onClick:E},[e.createElementVNode("view",{class:"settings-label"},"关于我们"),e.createVNode(i,{type:"forward",size:"16",color:"#999"})]),e.createElementVNode("view",{class:"settings-item",onClick:C},[e.createElementVNode("view",{class:"settings-label"},"隐私政策"),e.createVNode(i,{type:"forward",size:"16",color:"#999"})]),e.createElementVNode("button",{class:"logout-btn",onClick:S},"退出登录")])])),_:1},512)])}}},P=l({__name:"hatPagec",props:{title:{type:String,default:"聊天对象"},selfAvatar:{type:String,default:"/static/images/avatar.jpg"},otherAvatar:{type:String,default:"/static/images/avatar.jpg"}},setup(a){const o=e.ref([{type:"other",content:"你好呀！"}]),n=e.ref(""),i=e.ref(0),l=e.ref(0);e.ref(50);const s=e.ref(0),r=e.ref(!1);function c(){e.nextTick((()=>{i.value=999999}))}function d(){const e=n.value.trim();e&&(o.value.push({type:"self",content:e}),n.value="",c(),uni.vibrateShort({success:()=>{},fail:()=>{}}),(async e=>{try{r.value=!0;const{data:a}=await uni.request({url:"http://47.109.139.91:8081/chat/context",method:"POST",data:{prompt:e},header:{"X-Session-ID":"123"}});a.success?(r.value=!1,o.value.push({type:"other",content:a.data}),c()):t("error","at components/hatPagec/hatPagec.vue:76","聊天请求失败:",a.message)}catch(a){t("error","at components/hatPagec/hatPagec.vue:79","请求出错:",a)}})(e))}function u(){setTimeout((()=>c()),300)}function m(){setTimeout((()=>c()),300)}return e.onMounted((()=>{!function(){var e;const t=uni.getSystemInfoSync();s.value=t.windowHeight-44-60,l.value=(null==(e=t.safeAreaInsets)?void 0:e.bottom)||0,c()}()})),(t,l)=>(e.openBlock(),e.createElementBlock("view",{class:"chat-page"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("text",{class:"title"},"ChatFoodCourt")]),e.createElementVNode("scroll-view",{class:"chat-content","scroll-y":"","scroll-top":i.value,style:e.normalizeStyle({height:s.value+"px"})},[e.createElementVNode("view",{class:"message-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.value,((t,o)=>(e.openBlock(),e.createElementBlock("view",{key:o,class:"message-item"},["other"===t.type?(e.openBlock(),e.createElementBlock("view",{key:0,class:"other-message"},[e.createElementVNode("view",{class:"avatar-box"},[e.createElementVNode("image",{src:a.otherAvatar,class:"avatar"},null,8,["src"])]),e.createElementVNode("view",{class:"message-content other"},[e.createElementVNode("text",{class:"message-text"},e.toDisplayString(t.content),1)])])):(e.openBlock(),e.createElementBlock("view",{key:1,class:"self-message"},[e.createElementVNode("view",{class:"message-content self"},[e.createElementVNode("text",{class:"message-text"},e.toDisplayString(t.content),1)]),e.createElementVNode("view",{class:"avatar-box"},[e.createElementVNode("image",{src:a.selfAvatar,class:"avatar"},null,8,["src"])])]))])))),128)),r.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"typing-tip"},[e.createElementVNode("text",null,"对方正在输入中...")])):e.createCommentVNode("",!0)])],12,["scroll-top"]),e.createElementVNode("view",{class:"input-area"},[e.withDirectives(e.createElementVNode("input",{class:"input","onUpdate:modelValue":l[0]||(l[0]=e=>n.value=e),placeholder:"请输入消息",onConfirm:d,onFocus:u,onBlur:m},null,544),[[e.vModelText,n.value]]),e.createElementVNode("button",{class:"send-btn",onClick:d},"发送")])]))}},[["__scopeId","data-v-6d944749"]]),M=e.defineComponent({__name:"chating",setup(t){const a=e.ref("");return e.onMounted((async()=>{const e=await x();200===e.code?a.value=e.data.avatar:(uni.showToast({title:"请求失败",icon:"fail",duration:1e3}),a.value="/static/images/avatar.jpg")})),(t,o)=>(e.openBlock(),e.createElementBlock("view",{class:"content"},[e.createVNode(P,{title:"ChatFoodCustomer",selfAvatar:a.value,otherAvatar:"https://food-court.oss-cn-hangzhou.aliyuncs.com/62.png"},null,8,["selfAvatar"])]))}});const I=l({data:()=>({currentIndex:0,tabList:[{text:"首页",pagePath:"pages/index/index",iconPath:"/static/images/home.png",selectedIconPath:"/static/images/home-h.png"},{text:"聊天",pagePath:"pages/chating/chating",iconPath:"/static/images/classify.png",selectedIconPath:"/static/images/classify-h.png"},{text:"我的",pagePath:"pages/user/user",iconPath:"/static/images/user.png",selectedIconPath:"/static/images/user-h.png"}]}),methods:{switchTab(e){this.currentIndex=e,uni.switchTab({url:this.tabList[e].pagePath})}}},[["render",function(t,a,o,n,i,l){return e.openBlock(),e.createElementBlock("view",{class:"custom-tabbar"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.tabList,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:a,class:e.normalizeClass(i.currentIndex===a?"active":""),onClick:e=>l.switchTab(a)},[e.createElementVNode("image",{src:i.currentIndex===a?t.selectedIconPath:t.iconPath},null,8,["src"]),e.createElementVNode("text",null,e.toDisplayString(t.text),1)],10,["onClick"])))),128)),e.createElementVNode("view",{class:"center-btn",onClick:a[0]||(a[0]=(...e)=>t.centerBtnClick&&t.centerBtnClick(...e))},[e.createElementVNode("image",{im:""})])])}],["__scopeId","data-v-9664d9b1"]]);const j=l({},[["render",function(t,a){return e.openBlock(),e.createElementBlock("div",null," 配料查看 ")}]]);const O=l({name:"UniBadge",emits:["click"],props:{type:{type:String,default:"error"},inverted:{type:Boolean,default:!1},isDot:{type:Boolean,default:!1},maxNum:{type:Number,default:99},absolute:{type:String,default:""},offset:{type:Array,default:()=>[0,0]},text:{type:[String,Number],default:""},size:{type:String,default:"small"},customStyle:{type:Object,default:()=>({})}},data:()=>({}),computed:{width(){return 8*String(this.text).length+12},classNames(){const{inverted:e,type:t,size:a,absolute:o}=this;return[e?"uni-badge--"+t+"-inverted":"","uni-badge--"+t,"uni-badge--"+a,o?"uni-badge--absolute":""].join(" ")},positionStyle(){if(!this.absolute)return{};let e=this.width/2,t=10;this.isDot&&(e=5,t=5);const a=`${-e+this.offset[0]}px`,o=`${-t+this.offset[1]}px`,n={rightTop:{right:a,top:o},rightBottom:{right:a,bottom:o},leftBottom:{left:a,bottom:o},leftTop:{left:a,top:o}},i=n[this.absolute];return i||n.rightTop},dotStyle(){return this.isDot?{width:"10px",minWidth:"0",height:"10px",padding:"0",borderRadius:"10px"}:{}},displayValue(){const{isDot:e,text:t,maxNum:a}=this;return e?"":Number(t)>a?`${a}+`:t}},methods:{onClick(){this.$emit("click")}}},[["render",function(t,a,o,n,i,l){return e.openBlock(),e.createElementBlock("view",{class:"uni-badge--x"},[e.renderSlot(t.$slots,"default",{},void 0,!0),o.text?(e.openBlock(),e.createElementBlock("text",{key:0,class:e.normalizeClass([l.classNames,"uni-badge"]),style:e.normalizeStyle([l.positionStyle,o.customStyle,l.dotStyle]),onClick:a[0]||(a[0]=e=>l.onClick())},e.toDisplayString(l.displayValue),7)):e.createCommentVNode("",!0)])}],["__scopeId","data-v-bca7b097"]]);const R=l({name:"UniListItem",emits:["click","switchChange"],props:{direction:{type:String,default:"row"},title:{type:String,default:""},note:{type:String,default:""},ellipsis:{type:[Number,String],default:0},disabled:{type:[Boolean,String],default:!1},clickable:{type:Boolean,default:!1},showArrow:{type:[Boolean,String],default:!1},link:{type:[Boolean,String],default:!1},to:{type:String,default:""},showBadge:{type:[Boolean,String],default:!1},showSwitch:{type:[Boolean,String],default:!1},switchChecked:{type:[Boolean,String],default:!1},badgeText:{type:String,default:""},badgeType:{type:String,default:"success"},badgeStyle:{type:Object,default:()=>({})},rightText:{type:String,default:""},thumb:{type:String,default:""},thumbSize:{type:String,default:"base"},showExtraIcon:{type:[Boolean,String],default:!1},extraIcon:{type:Object,default:()=>({type:"",color:"#000000",size:20,customPrefix:""})},border:{type:Boolean,default:!0},customStyle:{type:Object,default:()=>({padding:"",backgroundColor:"#FFFFFF"})},keepScrollPosition:{type:Boolean,default:!1}},watch:{"customStyle.padding":{handler(e){"number"==typeof e&&(e+="");let t=e.split(" ");if(1===t.length){const e=t[0];this.padding={top:e,right:e,bottom:e,left:e}}else if(2===t.length){const[e,a]=t;this.padding={top:e,right:a,bottom:e,left:a}}else if(4===t.length){const[e,a,o,n]=t;this.padding={top:e,right:a,bottom:o,left:n}}},immediate:!0}},data:()=>({isFirstChild:!1,padding:{top:"",right:"",bottom:"",left:""}}),mounted(){this.list=this.getForm(),this.list&&(this.list.firstChildAppend||(this.list.firstChildAppend=!0,this.isFirstChild=!0))},methods:{getForm(e="uniList"){let t=this.$parent,a=t.$options.name;for(;a!==e;){if(t=t.$parent,!t)return!1;a=t.$options.name}return t},onClick(){""===this.to?(this.clickable||this.link)&&this.$emit("click",{data:{}}):this.openPage()},onSwitchChange(e){this.$emit("switchChange",e.detail)},openPage(){-1!==["navigateTo","redirectTo","reLaunch","switchTab"].indexOf(this.link)?this.pageApi(this.link):this.pageApi("navigateTo")},pageApi(e){let t={url:this.to,success:e=>{this.$emit("click",{data:e})},fail:e=>{this.$emit("click",{data:e})}};switch(e){case"navigateTo":default:uni.navigateTo(t);break;case"redirectTo":uni.redirectTo(t);break;case"reLaunch":uni.reLaunch(t);break;case"switchTab":uni.switchTab(t)}}}},[["render",function(t,o,n,i,l,s){const r=a(e.resolveDynamicComponent("uni-icons"),B),c=a(e.resolveDynamicComponent("uni-badge"),O);return e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass([{"uni-list-item--disabled":n.disabled},"uni-list-item"]),style:e.normalizeStyle({"background-color":n.customStyle.backgroundColor}),"hover-class":!n.clickable&&!n.link||n.disabled||n.showSwitch?"":"uni-list-item--hover",onClick:o[1]||(o[1]=(...e)=>s.onClick&&s.onClick(...e))},[l.isFirstChild?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:0,class:e.normalizeClass(["border--left",{"uni-list--border":n.border}])},null,2)),e.createElementVNode("view",{class:e.normalizeClass(["uni-list-item__container",{"container--right":n.showArrow||n.link,"flex--direction":"column"===n.direction}]),style:e.normalizeStyle({paddingTop:l.padding.top,paddingLeft:l.padding.left,paddingRight:l.padding.right,paddingBottom:l.padding.bottom})},[e.renderSlot(t.$slots,"header",{},(()=>[e.createElementVNode("view",{class:"uni-list-item__header"},[n.thumb?(e.openBlock(),e.createElementBlock("view",{key:0,class:"uni-list-item__icon"},[e.createElementVNode("image",{src:n.thumb,class:e.normalizeClass(["uni-list-item__icon-img",["uni-list--"+n.thumbSize]])},null,10,["src"])])):n.showExtraIcon?(e.openBlock(),e.createElementBlock("view",{key:1,class:"uni-list-item__icon"},[e.createVNode(r,{customPrefix:n.extraIcon.customPrefix,color:n.extraIcon.color,size:n.extraIcon.size,type:n.extraIcon.type},null,8,["customPrefix","color","size","type"])])):e.createCommentVNode("",!0)])]),!0),e.renderSlot(t.$slots,"body",{},(()=>[e.createElementVNode("view",{class:e.normalizeClass(["uni-list-item__content",{"uni-list-item__content--center":n.thumb||n.showExtraIcon||n.showBadge||n.showSwitch}])},[n.title?(e.openBlock(),e.createElementBlock("text",{key:0,class:e.normalizeClass(["uni-list-item__content-title",[0!==n.ellipsis&&n.ellipsis<=2?"uni-ellipsis-"+n.ellipsis:""]])},e.toDisplayString(n.title),3)):e.createCommentVNode("",!0),n.note?(e.openBlock(),e.createElementBlock("text",{key:1,class:"uni-list-item__content-note"},e.toDisplayString(n.note),1)):e.createCommentVNode("",!0)],2)]),!0),e.renderSlot(t.$slots,"footer",{},(()=>[n.rightText||n.showBadge||n.showSwitch?(e.openBlock(),e.createElementBlock("view",{key:0,class:e.normalizeClass(["uni-list-item__extra",{"flex--justify":"column"===n.direction}])},[n.rightText?(e.openBlock(),e.createElementBlock("text",{key:0,class:"uni-list-item__extra-text"},e.toDisplayString(n.rightText),1)):e.createCommentVNode("",!0),n.showBadge?(e.openBlock(),e.createBlock(c,{key:1,type:n.badgeType,text:n.badgeText,"custom-style":n.badgeStyle},null,8,["type","text","custom-style"])):e.createCommentVNode("",!0),n.showSwitch?(e.openBlock(),e.createElementBlock("switch",{key:2,disabled:n.disabled,checked:n.switchChecked,onChange:o[0]||(o[0]=(...e)=>s.onSwitchChange&&s.onSwitchChange(...e))},null,40,["disabled","checked"])):e.createCommentVNode("",!0)],2)):e.createCommentVNode("",!0)]),!0)],6),n.showArrow||n.link?(e.openBlock(),e.createBlock(r,{key:1,size:16,class:"uni-icon-wrapper",color:"#bbb",type:"arrowright"})):e.createCommentVNode("",!0)],14,["hover-class"])}],["__scopeId","data-v-380d0f47"]]);const U=l({name:"uniList","mp-weixin":{options:{multipleSlots:!1}},props:{stackFromEnd:{type:Boolean,default:!1},enableBackToTop:{type:[Boolean,String],default:!1},scrollY:{type:[Boolean,String],default:!1},border:{type:Boolean,default:!0},renderReverse:{type:Boolean,default:!1}},created(){this.firstChildAppend=!1},methods:{loadMore(e){this.$emit("scrolltolower")},scroll(e){this.$emit("scroll",e)}}},[["render",function(t,a,o,n,i,l){return e.openBlock(),e.createElementBlock("view",{class:"uni-list uni-border-top-bottom"},[o.border?(e.openBlock(),e.createElementBlock("view",{key:0,class:"uni-list--border-top"})):e.createCommentVNode("",!0),e.renderSlot(t.$slots,"default",{},void 0,!0),o.border?(e.openBlock(),e.createElementBlock("view",{key:1,class:"uni-list--border-bottom"})):e.createCommentVNode("",!0)])}],["__scopeId","data-v-c1d7c358"]]),q=l({__name:"about",setup(t){e.useCssVars((e=>({"8bcc131a":o.value})));const o=e.ref("#5A7EF7"),n=e.ref("scale(1)"),i=e.reactive([{icon:"link",title:"官方网站",value:"https://www.example.com",action:()=>openWebsite("https://www.example.com")},{icon:"phone",title:"客服电话",value:"400-123-4567",action:()=>makePhoneCall("400-123-4567")},{icon:"weixin",title:"微信公众号",value:"ExampleApp"},{icon:"compose",title:"用户协议",action:()=>navigateTo("/pages/agreement/user")},{icon:"locked",title:"隐私政策",action:()=>navigateTo("/pages/agreement/privacy")}]),l=e.reactive([{icon:"weixin",link:"#"},{icon:"weibo",link:"#"},{icon:"phone",link:"#"},{icon:"qq",link:"#"}]);return(t,s)=>{const r=a(e.resolveDynamicComponent("uni-icons"),B),c=a(e.resolveDynamicComponent("uni-list-item"),R),d=a(e.resolveDynamicComponent("uni-list"),U);return e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"wave-bg"},[(e.openBlock(),e.createElementBlock("svg",{viewBox:"0 0 500 150",preserveAspectRatio:"none"},[e.createElementVNode("path",{d:"M0,80 C150,180 350,0 500,80 L500,150 L0,150 Z",fill:"currentColor"})]))]),e.createElementVNode("view",{class:"header"},[e.createElementVNode("image",{class:"logo",src:"/static/images/user.png",mode:"aspectFit",style:e.normalizeStyle({transform:n.value}),onTouchstart:s[0]||(s[0]=e=>n.value="scale(0.95)"),onTouchend:s[1]||(s[1]=e=>n.value="scale(1)")},null,36),e.createElementVNode("text",{class:"app-name"},"安食阁"),e.createElementVNode("text",{class:"slogan"},"让食品健康更美好"),e.createElementVNode("view",{class:"version-box"},[e.createElementVNode("text",{class:"version"},"v1.0.0")])]),e.createElementVNode("view",{class:"card"},[e.createVNode(d,{class:"info-list"},{default:e.withCtx((()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i,((t,a)=>(e.openBlock(),e.createBlock(c,{key:a,title:t.title,"show-arrow":t.action,onClick:e=>(e=>{e.action&&e.action()})(t)},{header:e.withCtx((()=>[e.createVNode(r,{type:t.icon,size:"20",color:o.value,class:"list-icon"},null,8,["type","color"])])),footer:e.withCtx((()=>[e.createElementVNode("text",{class:"info-text"},e.toDisplayString(t.value),1)])),_:2},1032,["title","show-arrow","onClick"])))),128))])),_:1})]),e.createElementVNode("view",{class:"social-links"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l,((a,n)=>(e.openBlock(),e.createElementBlock("view",{key:n,class:"social-item",onClick:e=>t.openSocial(a.link)},[e.createVNode(r,{type:a.icon,size:"28",color:o.value},null,8,["type","color"])],8,["onClick"])))),128))]),e.createElementVNode("view",{class:"copyright"},[e.createElementVNode("text",{class:"copyright-text"},"©2025 LiTUTU科技"),e.createElementVNode("view",{class:"divider"}),e.createElementVNode("text",{class:"copyright-text"},"创造美好体验")])])}}},[["__scopeId","data-v-0a235c14"]]),W={__name:"DaytoDay",setup(o){const n=e.ref([]);e.ref([{icon:"heart",name:"降低心血管疾病风险"},{icon:"person",name:"改善认知功能"},{icon:"fire",name:"促进新陈代谢"}]);const l=e.ref({age:31,allergy:null,benifit:"促进消化、抗氧化",benifitList:[],bmi:22.6,carbohydrate:22.8,compose:"碳水化合物 22.8g, 膳食纤维 2.9g, 维生素 E 0.46mg",composeList:[],desc:"可煮可烤的黄色谷物",disease:"无",fat:1.2,foodName:"玉米",id:36,kilo:112,picture:"https://example.com/corn.jpg",protein:4,target:null});i((e=>{}));const s=()=>{uni.reLaunch({url:"/pages/index/index"})},r=()=>{uni.showToast({title:"确定成功",icon:"success"}),uni.reLaunch({url:"/pages/index/index"})},c=async e=>{try{const a=await function(e){return E({url:`/suggest/${e}`,method:"get",header:{userToken:uni.getStorageSync("userToken")}})}(e);if(200!==a.code)throw new Error(a.message||"请求失败");l.value={...l.value,...a.data},l.value.composeList&&(n.value=l.value.composeList.map((e=>({icon:"circle",name:e})))),t("log","at pages/DaytoDay/DaytoDay.vue:171","更新后的 ingredients:",n.value)}catch(a){uni.showToast({title:a.message,icon:"none",duration:2e3})}};return e.onMounted((()=>{const e=uni.getStorageSync("foodId");t("log","at pages/DaytoDay/DaytoDay.vue:188","获取到的存储数据:",e),c(e)})),(t,o)=>{const i=a(e.resolveDynamicComponent("uni-icons"),B);return e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("view",null,[e.createElementVNode("button",{class:"back-button",onClick:s},[e.createVNode(i,{type:"left",size:"20",color:"#4CAF50"})])]),e.createElementVNode("view",{class:"item",style:{}},[e.createElementVNode("view",{class:"title",style:{color:"#4CAF50","font-weight":"600"}},[e.createElementVNode("text",null,"每日推荐")])]),e.createElementVNode("view",{class:"right",style:{width:"50px"}})]),e.createElementVNode("view",{class:"content"},[e.createElementVNode("text",{class:"food-title"},[e.createTextVNode(e.toDisplayString(l.value.foodName)+" ",1),e.createElementVNode("text",{class:"badge"},"推荐")]),e.createElementVNode("image",{class:"food-image",src:l.value.picture,mode:"aspectFill"},null,8,["src"]),e.createElementVNode("text",{class:"food-description"},e.toDisplayString(l.value.desc),1),e.createElementVNode("view",{class:"prep-time"},[e.createVNode(i,{type:"time",size:"16",color:"#FF9800"}),e.createElementVNode("text",null,"准备时间: 10分钟")]),e.createElementVNode("view",{class:"nutrition-info"},[e.createElementVNode("view",{class:"nutrition-item"},[e.createElementVNode("text",{class:"nutrition-value"},e.toDisplayString(l.value.kilo),1),e.createElementVNode("text",{class:"nutrition-label"},"千卡")]),e.createElementVNode("view",{class:"nutrition-item"},[e.createElementVNode("text",{class:"nutrition-value"},e.toDisplayString(l.value.protein),1),e.createElementVNode("text",{class:"nutrition-label"},"蛋白质")]),e.createElementVNode("view",{class:"nutrition-item"},[e.createElementVNode("text",{class:"nutrition-value"},e.toDisplayString(l.value.carbohydrate),1),e.createElementVNode("text",{class:"nutrition-label"},"碳水化合物")]),e.createElementVNode("view",{class:"nutrition-item"},[e.createElementVNode("text",{class:"nutrition-value"},e.toDisplayString(l.value.fat),1),e.createElementVNode("text",{class:"nutrition-label"},"脂肪")])]),e.createElementVNode("view",{class:"section"},[e.createElementVNode("view",{class:"section-title"},"主要食材"),e.createElementVNode("view",{class:"list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.value,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"list-item",key:a},[e.createVNode(i,{type:"circle",size:"16",color:"#4CAF50"}),e.createElementVNode("text",null,e.toDisplayString(t.name),1)])))),128))])]),e.createElementVNode("view",{class:"section"},[e.createElementVNode("view",{class:"section-title"},"健康益处"),e.createElementVNode("view",{class:"list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.value.benifitList,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"list-item",key:a},[e.createVNode(i,{type:"circle",size:"16",color:"#4CAF50"}),e.createElementVNode("text",null,e.toDisplayString(t),1)])))),128))])]),e.createElementVNode("view",{class:"action-buttons"},[e.createElementVNode("button",{class:"secondary-button",onClick:r},[e.createVNode(i,{type:"star",size:"16",color:"#4CAF50"}),e.createElementVNode("text",null,"确定")])])])])}}};const H=l({data:()=>({url:""}),onLoad(e){this.url=e.url}},[["render",function(t,a,o,n,i,l){return e.openBlock(),e.createElementBlock("web-view",{src:i.url},null,8,["src"])}]]),G={__name:"ResultView",props:{productData:{type:Object,required:!0}},setup(o){const n=e.ref(""),i=productData.ingredients_text;return n.value=i.value.split("\n")[1],t("log","at pages/ResultView/ResultView.vue:101",ingredientsList),(t,n)=>{const i=a(e.resolveDynamicComponent("uni-icons"),B);return e.openBlock(),e.createElementBlock("view",{class:"result-view"},[e.createVNode(i,{type:"arrowleft",size:"24",class:"back-icon",onClick:n[0]||(n[0]=e=>t.$emit("back"))}),e.createElementVNode("view",{class:"result-header"},[e.createElementVNode("image",{src:o.productData.image_url,class:"result-image",mode:"aspectFit"},null,8,["src"]),e.createElementVNode("view",{class:"header-info"},[e.createElementVNode("text",{class:"result-title"},e.toDisplayString(o.productData.product_name),1),e.createElementVNode("text",{class:"brand-text"},e.toDisplayString(o.productData.brands),1),e.createElementVNode("text",{class:"category-text"},e.toDisplayString(o.productData.categories),1)])]),e.createElementVNode("view",{class:"info-card"},[e.createElementVNode("text",{class:"card-title"},"营养信息（每100g）"),e.createElementVNode("view",{class:"nutrition-grid"},[e.createElementVNode("view",{class:"nutrition-item"},[e.createElementVNode("text",{class:"nutrition-label"},"热量"),e.createElementVNode("text",{class:"nutrition-value"},e.toDisplayString(o.productData.nutriments["energy-kcal"])+"kcal",1)]),e.createElementVNode("view",{class:"nutrition-item"},[e.createElementVNode("text",{class:"nutrition-label"},"蛋白质"),e.createElementVNode("text",{class:"nutrition-value"},e.toDisplayString(o.productData.nutriments.proteins)+"g",1)]),e.createElementVNode("view",{class:"nutrition-item"},[e.createElementVNode("text",{class:"nutrition-label"},"碳水"),e.createElementVNode("text",{class:"nutrition-value"},e.toDisplayString(o.productData.nutriments.carbohydrates)+"g",1)]),e.createElementVNode("view",{class:"nutrition-item"},[e.createElementVNode("text",{class:"nutrition-label"},"脂肪"),e.createElementVNode("text",{class:"nutrition-value"},e.toDisplayString(o.productData.nutriments.fat)+"g",1)])])]),e.createElementVNode("view",{class:"info-card"},[e.createElementVNode("text",{class:"card-title"},"成分分析"),e.createElementVNode("view",{class:"ingredient-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.productData.ingredients_text.split("\n")[0].split("，"),((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"ingredient-item"},[e.createVNode(i,{type:"circle-filled",size:"12",color:"#4CAF50",class:"ingredient-icon"}),e.createElementVNode("text",{class:"ingredient-name"},e.toDisplayString(t),1)])))),256))])]),e.createElementVNode("view",{class:"info-card"},[e.createElementVNode("text",{class:"card-title"},"建议"),e.createElementVNode("view",{class:"ingredient-box"},[e.createElementVNode("text",{class:"ingredient-text"},e.toDisplayString(o.productData.ingredients_text.split("\n")[2]||o.productData.ingredients_text.split("\n")[3]),1)])]),o.productData.allergens?(e.openBlock(),e.createElementBlock("view",{key:0,class:"warning-card"},[e.createVNode(i,{type:"info",size:"18",color:"#ff9800"}),e.createElementVNode("text",{class:"warning-text"},"过敏原警告：本产品包含 "+e.toDisplayString(o.productData.allergens),1)])):e.createCommentVNode("",!0)])}}},X={__name:"camera",setup(o){const n=e.ref(!1),l=e.ref("off"),s=e.ref(!1),r=e.ref(null),c=async()=>{n.value=!0,uni.showLoading({title:"正在扫描..."}),await new Promise((e=>setTimeout(e,1e3)));try{await uni.scanCode({onlyFromCamera:!0,scanType:["barCode","qrCode"],success:e=>{uni.hideLoading(),e.result?(uni.showToast({title:"扫描成功",icon:"success",duration:1500}),setTimeout((()=>{(async e=>{var a,o,n,i,l,c,d,u,m,p,h,f,g;try{uni.showLoading({title:"分析中..."});const[t,v]=await uni.request({url:`http://47.109.139.91:8081/api/food/${e}`,method:"GET",header:{userToken:uni.getStorageSync("userToken")}});if(t)throw t;const y=v.data||v;if(!y||!y.product)throw new Error("返回数据格式不正确");const w={product_name:(null==(a=v.product.product_name)?void 0:a.replace(/，/g,", "))||"未知产品",brands:(null==(o=v.product.brands)?void 0:o.split(", ")[0])||"未知品牌",categories:(null==(n=v.product.categories)?void 0:n.split(", ")[0])||"未分类",ingredients_text:(null==(i=v.product.ingredients_text)?void 0:i.replace(/;/g,";\n"))||"无成分信息",allergens:(null==(c=null==(l=v.product.allergens)?void 0:l.replace("en:",""))?void 0:c.split(",")[0])||"无过敏原",nutriments:{"energy-kcal":(null==(d=v.product.nutriments["energy-kcal"])?void 0:d.toFixed(1))||0,proteins:(null==(u=v.product.nutriments.proteins)?void 0:u.toFixed(1))||0,carbohydrates:(null==(m=v.product.nutriments.carbohydrates)?void 0:m.toFixed(1))||0,fat:(null==(p=v.product.nutriments.fat)?void 0:p.toFixed(1))||0,sugars:(null==(h=v.product.nutriments.sugars)?void 0:h.toFixed(1))||0,fiber:(null==(f=v.product.nutriments.fiber)?void 0:f.toFixed(1))||0,salt:(null==(g=v.product.nutriments.salt)?void 0:g.toFixed(1))||0},image_url:v.product.image_url||"/static/default-food.png"};r.value=w,s.value=!0}catch(v){t("error","at pages/camera/camera.vue:122","接口请求失败:",v),uni.showToast({title:v.errMsg||"请求失败，请检查网络",icon:"none"})}finally{uni.hideLoading()}})(e.result)}),1e3)):uni.showToast({title:"未识别到有效条码",icon:"none"})},fail:e=>{uni.hideLoading();let t="扫描失败";e.errMsg.includes("cancel")?t="已取消扫描":e.errMsg.includes("camera")&&(t="相机权限未授权"),uni.showToast({title:t,icon:"none"})}})}catch(e){uni.hideLoading(),t("error","at pages/camera/camera.vue:184","扫描异常:",e),uni.showToast({title:"扫描异常: "+(e.errMsg||"未知错误"),icon:"none"})}finally{n.value=!1}};i((()=>{}));const d=()=>{uni.reLaunch({url:"/pages/index/index"})};return(t,o)=>{const i=a(e.resolveDynamicComponent("uni-icons"),B);return e.openBlock(),e.createElementBlock("view",{class:"scan-container"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("view",null,[e.createElementVNode("button",{class:"back-button",onClick:d},[e.createVNode(i,{type:"left",size:"20",color:"#4CAF50"})])]),e.createElementVNode("view",{class:"item",style:{}},[e.createElementVNode("view",{class:"title",style:{color:"#4CAF50","font-weight":"600"}},[e.createElementVNode("text",null,"扫码识别")])]),e.createElementVNode("view",{class:"right",style:{width:"50px"}})]),s.value?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:0},[e.createElementVNode("view",{class:"camera-view"},[e.createElementVNode("view",{class:"camera-overlay"},[e.createElementVNode("view",{class:"scan-frame"},[e.createElementVNode("view",{class:e.normalizeClass(["scan-line",{"animate-scan":n.value}])},null,2)]),e.createElementVNode("text",{class:"scan-tip"},"将食品包装对准框内")]),e.createElementVNode("view",{class:"camera-controls"},[e.createElementVNode("view",{class:"camera-btn",onClick:o[0]||(o[0]=(...e)=>t.switchCamera&&t.switchCamera(...e))},[e.createVNode(i,{type:"reload",size:"24",color:"#fff"})]),e.createElementVNode("view",{class:"camera-btn capture",onClick:c},[e.createVNode(i,{type:"camera",size:"28",color:"#4CAF50"})]),e.createElementVNode("view",{class:"camera-btn",onClick:o[1]||(o[1]=(...e)=>t.toggleFlash&&t.toggleFlash(...e))},[e.createVNode(i,{type:"on"===l.value?"bolt-filled":"bolt",size:"24",color:"#fff"},null,8,["type"])])])])])),s.value?(e.openBlock(),e.createBlock(G,{key:1,productData:r.value,onBack:o[2]||(o[2]=e=>s.value=!1)},null,8,["productData"])):e.createCommentVNode("",!0)])}}},Y={__name:"playing",setup(t){const o=e.ref(!1),n=e.ref(null),i=e.ref(0),l=e.ref(null),s=e.ref(0),r=e.ref("0.0"),c=e.ref(0),d=e.ref(1e4),u=e.ref("重庆市巴南区"),m=e.computed((()=>Math.floor(s.value).toLocaleString())),p=e.computed((()=>{const e=Math.floor(i.value/60),t=i.value%60;return`${e.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`})),h=e.ref(2),f=e.ref(5),g=e.computed((()=>Math.round(h.value/f.value*100))),v=e.ref([{type:"running",name:"快走",date:"昨天",duration:30,calories:120},{type:"running",name:"慢跑",date:"前天",duration:20,calories:180}]),y=()=>{o.value?(clearInterval(l.value),o.value=!1,b(),uni.showToast({title:"运动已结束",icon:"success",duration:1e3})):(o.value=!0,n.value=new Date,s.value=0,r.value="0.0",c.value=0,i.value=0,l.value=setInterval(w,1e3),uni.showToast({title:"运动已开始",icon:"success",duration:1e3}))},w=()=>{o.value&&(i.value=Math.floor((new Date-n.value)/1e3),s.value+=1.2,r.value=(762e-6*s.value).toFixed(1),c.value=Math.floor(70*parseFloat(r.value)*1.036))},b=()=>{const e={type:"running",icon:"left",name:"步行",date:"今天",duration:Math.floor(i.value/60),calories:c.value};v.value.unshift(e),v.value.length>5&&v.value.pop(),i.value>=1800&&(h.value=Math.min(h.value+1,f.value))};return e.onUnmounted((()=>{l.value&&clearInterval(l.value)})),e.onMounted((()=>{})),(t,n)=>{const i=a(e.resolveDynamicComponent("uni-icons"),B);return e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("text",{class:"title"},"运动计划")]),e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"map-container"},[e.createElementVNode("view",{class:"map"},[e.createElementVNode("image",{src:"/assets/playings.bf96cbfb.png",mode:""})]),e.createElementVNode("view",{class:"map-gap",style:{width:"100%",height:"calc(300px - 123px)","background-color":"white"}}),e.createElementVNode("cover-view",{class:"map-overlay"},[e.createElementVNode("cover-view",{class:"flex justify-between items-center"},[e.createElementVNode("cover-view",null,[e.createElementVNode("cover-view",{class:"text-sm opacity-80"},"当前位置"),e.createElementVNode("cover-view",{class:"font-semibold"},e.toDisplayString(u.value),1)]),e.createElementVNode("cover-view",{style:{display:"flex","align-items":"center","text-align":"center","justify-content":"center"},class:"btn-primary text-sm py-2 px-4",onClick:y},e.toDisplayString(o.value?"结束运动":"开始运动"),1)])])]),e.createElementVNode("view",{class:"pedometer"},[e.createElementVNode("view",{class:"pedometer-circle"},[e.createElementVNode("view",{class:"steps-count"},e.toDisplayString(m.value),1),e.createElementVNode("view",{class:"steps-label"},"步数")]),e.createElementVNode("view",{class:"steps-goal"},"目标: "+e.toDisplayString(d.value.toLocaleString())+"步",1)]),e.createElementVNode("view",{class:"stats-container"},[e.createElementVNode("view",{class:"stat-card"},[e.createElementVNode("view",{class:"stat-value"},e.toDisplayString(r.value),1),e.createElementVNode("view",{class:"stat-label"},"公里")]),e.createElementVNode("view",{class:"stat-card"},[e.createElementVNode("view",{class:"stat-value"},e.toDisplayString(c.value),1),e.createElementVNode("view",{class:"stat-label"},"千卡")]),e.createElementVNode("view",{class:"stat-card"},[e.createElementVNode("view",{class:"stat-value"},e.toDisplayString(p.value),1),e.createElementVNode("view",{class:"stat-label"},"时间")])]),e.createElementVNode("view",{class:"plan-card"},[e.createElementVNode("view",{class:"plan-header"},[e.createElementVNode("view",{class:"plan-title"},"每周运动计划"),e.createElementVNode("view",{class:"tag tag-success"},"进行中")]),e.createElementVNode("view",{class:"progress-container"},[e.createElementVNode("view",{class:"progress-bar",style:e.normalizeStyle({width:g.value+"%"})},null,4)]),e.createElementVNode("view",{class:"progress-text"},[e.createElementVNode("span",null,"已完成 "+e.toDisplayString(h.value)+"/"+e.toDisplayString(f.value)+" 天",1),e.createElementVNode("span",null,e.toDisplayString(g.value)+"%",1)]),e.createElementVNode("view",{class:"activity-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(v.value,((t,a)=>{return e.openBlock(),e.createElementBlock("view",{class:"activity-item",key:a},[e.createElementVNode("view",{class:"activity-icon"},[e.createVNode(i,{type:(o=t.type,{walking:"footmark",running:"paperplane",cycling:"circle",swimming:"water"}[o]||"help"),size:"20",color:"#4CAF50"},null,8,["type"])]),e.createElementVNode("view",{class:"activity-info"},[e.createElementVNode("view",{class:"activity-name"},e.toDisplayString(t.name),1),e.createElementVNode("view",{class:"activity-meta"},e.toDisplayString(t.date)+" · "+e.toDisplayString(t.duration)+"分钟",1)]),e.createElementVNode("view",{class:"activity-calories"},e.toDisplayString(t.calories)+"千卡",1)]);var o})),128))])])])])}}},J=l(e.defineComponent({__name:"register",setup(o){const n=()=>{uni.reLaunch({url:"/pages/Login/Login"})},i=e.reactive({username:"",password:"",twopassword:""}),l=async()=>{if(t("log","at pages/register/register.vue:53","1111111111111111111111111111"),i.password!==i.twopassword)return void uni.showToast({title:"两次输入的密码不一致",icon:"fail",duration:1e3});const e=await(a=i,E({url:"/user/user/register",method:"POST",header:{"Content-Type":"application/json"},data:a}));var a;t("log","at pages/register/register.vue:63","注册响应",e),200===e.code?(uni.showToast({title:"注册成功",icon:"success",duration:1e3}),uni.reLaunch({url:"/pages/Login/Login"})):(uni.showToast({title:"注册失败，请重新输入信息",icon:"fail",duration:1e3}),i.username="",i.password="",i.twopassword="")};return(t,o)=>{const r=a(e.resolveDynamicComponent("uni-icons"),B),c=a(e.resolveDynamicComponent("uni-forms-item"),s),d=a(e.resolveDynamicComponent("uni-forms"),N);return e.openBlock(),e.createElementBlock("view",{class:"RegistrationLayout"},[e.createElementVNode("view",{class:"back-btn",onClick:n},[e.createVNode(r,{type:"left",size:"24",color:"#fff"})]),e.createElementVNode("view",{class:"title"},[e.createElementVNode("text",null,"Welcome to FoodCourt")]),e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"registration-title"},[e.createElementVNode("text",{class:"text",style:{"padding-left":"50rpx"}},"注册"),e.createElementVNode("view",{class:"",style:{width:"48px",height:"5px",background:"rgb(77, 190, 200)","margin-top":"25rpx","margin-left":"50rpx"}})]),e.createElementVNode("view",{class:"form"},[e.createVNode(d,{class:"form-items",modelValue:i,"onUpdate:modelValue":o[3]||(o[3]=e=>i=e)},{default:e.withCtx((()=>[e.createVNode(c,{name:"username"},{default:e.withCtx((()=>[e.withDirectives(e.createElementVNode("input",{type:"text",placeholder:"用户名",style:{"padding-left":"20rpx",height:"80rpx"},"onUpdate:modelValue":o[0]||(o[0]=e=>i.username=e)},null,512),[[e.vModelText,i.username]])])),_:1}),e.createVNode(c,{name:"password"},{default:e.withCtx((()=>[e.withDirectives(e.createElementVNode("input",{type:"safe-password",placeholder:"密码",style:{"padding-left":"20rpx",height:"80rpx"},"onUpdate:modelValue":o[1]||(o[1]=e=>i.password=e)},null,512),[[e.vModelText,i.password]])])),_:1}),e.createVNode(c,{name:"twopassword"},{default:e.withCtx((()=>[e.withDirectives(e.createElementVNode("input",{type:"safe-password",placeholder:"确认密码",style:{"padding-left":"20rpx",height:"80rpx"},"onUpdate:modelValue":o[2]||(o[2]=e=>i.twopassword=e)},null,512),[[e.vModelText,i.twopassword]])])),_:1}),e.createVNode(c,null,{default:e.withCtx((()=>[e.createElementVNode("button",{type:"primary",style:{"background-color":"rgb(77, 190, 200)",color:"#fff","border-radius":"50rpx","margin-top":"30rpx"},onClick:l},"注册")])),_:1})])),_:1},8,["modelValue"])])])])}}}),[["__scopeId","data-v-f91adf1f"]]),Z={data:()=>({}),created(){this.popup=this.getParent()},methods:{getParent(e="uniPopup"){let t=this.$parent,a=t.$options.name;for(;a!==e;){if(t=t.$parent,!t)return!1;a=t.$options.name}return t}}},K=["{","}"];const Q=/^(?:\d)+/,ee=/^(?:\w)+/;const te="zh-Hans",ae="zh-Hant",oe="en",ne=Object.prototype.hasOwnProperty,ie=(e,t)=>ne.call(e,t),le=new class{constructor(){this._caches=Object.create(null)}interpolate(e,t,a=K){if(!t)return[e];let o=this._caches[e];return o||(o=function(e,[t,a]){const o=[];let n=0,i="";for(;n<e.length;){let l=e[n++];if(l===t){i&&o.push({type:"text",value:i}),i="";let t="";for(l=e[n++];void 0!==l&&l!==a;)t+=l,l=e[n++];const s=l===a,r=Q.test(t)?"list":s&&ee.test(t)?"named":"unknown";o.push({value:t,type:r})}else i+=l}return i&&o.push({type:"text",value:i}),o}(e,a),this._caches[e]=o),function(e,t){const a=[];let o=0;const n=Array.isArray(t)?"list":(i=t,null!==i&&"object"==typeof i?"named":"unknown");var i;if("unknown"===n)return a;for(;o<e.length;){const i=e[o];switch(i.type){case"text":a.push(i.value);break;case"list":a.push(t[parseInt(i.value,10)]);break;case"named":"named"===n&&a.push(t[i.value])}o++}return a}(o,t)}};function se(e,t){if(!e)return;if(e=e.trim().replace(/_/g,"-"),t&&t[e])return e;if("chinese"===(e=e.toLowerCase()))return te;if(0===e.indexOf("zh"))return e.indexOf("-hans")>-1?te:e.indexOf("-hant")>-1?ae:(a=e,["-tw","-hk","-mo","-cht"].find((e=>-1!==a.indexOf(e)))?ae:te);var a;let o=[oe,"fr","es"];t&&Object.keys(t).length>0&&(o=Object.keys(t));const n=function(e,t){return t.find((t=>0===e.indexOf(t)))}(e,o);return n||void 0}class re{constructor({locale:e,fallbackLocale:t,messages:a,watcher:o,formater:n}){this.locale=oe,this.fallbackLocale=oe,this.message={},this.messages={},this.watchers=[],t&&(this.fallbackLocale=t),this.formater=n||le,this.messages=a||{},this.setLocale(e||oe),o&&this.watchLocale(o)}setLocale(e){const t=this.locale;this.locale=se(e,this.messages)||this.fallbackLocale,this.messages[this.locale]||(this.messages[this.locale]={}),this.message=this.messages[this.locale],t!==this.locale&&this.watchers.forEach((e=>{e(this.locale,t)}))}getLocale(){return this.locale}watchLocale(e){const t=this.watchers.push(e)-1;return()=>{this.watchers.splice(t,1)}}add(e,t,a=!0){const o=this.messages[e];o?a?Object.assign(o,t):Object.keys(t).forEach((e=>{ie(o,e)||(o[e]=t[e])})):this.messages[e]=t}f(e,t,a){return this.formater.interpolate(e,t,a).join("")}t(e,t,a){let o=this.message;return"string"==typeof t?(t=se(t,this.messages))&&(o=this.messages[t]):a=t,ie(o,e)?this.formater.interpolate(o[e],a).join(""):(console.warn(`Cannot translate the value of keypath ${e}. Use the value of keypath as default.`),e)}}const ce={en:{"uni-popup.cancel":"cancel","uni-popup.ok":"ok","uni-popup.placeholder":"pleace enter","uni-popup.title":"Hint","uni-popup.shareTitle":"Share to"},"zh-Hans":{"uni-popup.cancel":"取消","uni-popup.ok":"确定","uni-popup.placeholder":"请输入","uni-popup.title":"提示","uni-popup.shareTitle":"分享到"},"zh-Hant":{"uni-popup.cancel":"取消","uni-popup.ok":"確定","uni-popup.placeholder":"請輸入","uni-popup.title":"提示","uni-popup.shareTitle":"分享到"}},{t:de}=function(e,t={},a,o){if("string"!=typeof e){const a=[t,e];e=a[0],t=a[1]}"string"!=typeof e&&(e="undefined"!=typeof uni&&uni.getLocale?uni.getLocale():"undefined"!=typeof global&&global.getLocale?global.getLocale():oe),"string"!=typeof a&&(a="undefined"!=typeof __uniConfig&&__uniConfig.fallbackLocale||oe);const n=new re({locale:e,fallbackLocale:a,messages:t,watcher:o});let i=(e,t)=>{if("function"!=typeof getApp)i=function(e,t){return n.t(e,t)};else{let e=!1;i=function(t,a){const o=getApp().$vm;return o&&(o.$locale,e||(e=!0,function(e,t){e.$watchLocale?e.$watchLocale((e=>{t.setLocale(e)})):e.$watch((()=>e.$locale),(e=>{t.setLocale(e)}))}(o,n))),n.t(t,a)}}return i(e,t)};return{i18n:n,f:(e,t,a)=>n.f(e,t,a),t:(e,t)=>i(e,t),add:(e,t,a=!0)=>n.add(e,t,a),watch:e=>n.watchLocale(e),getLocale:()=>n.getLocale(),setLocale:e=>n.setLocale(e)}}(ce);const ue=l({name:"uniPopupDialog",mixins:[Z],emits:["confirm","close","update:modelValue","input"],props:{inputType:{type:String,default:"text"},showClose:{type:Boolean,default:!0},modelValue:{type:[Number,String],default:""},placeholder:{type:[String,Number],default:""},type:{type:String,default:"error"},mode:{type:String,default:"base"},title:{type:String,default:""},content:{type:String,default:""},beforeClose:{type:Boolean,default:!1},cancelText:{type:String,default:""},confirmText:{type:String,default:""},maxlength:{type:Number,default:-1},focus:{type:Boolean,default:!0}},data:()=>({dialogType:"error",val:""}),computed:{okText(){return this.confirmText||de("uni-popup.ok")},closeText(){return this.cancelText||de("uni-popup.cancel")},placeholderText(){return this.placeholder||de("uni-popup.placeholder")},titleText(){return this.title||de("uni-popup.title")}},watch:{type(e){this.dialogType=e},mode(e){"input"===e&&(this.dialogType="info")},value(e){-1!=this.maxlength&&"input"===this.mode?this.val=e.slice(0,this.maxlength):this.val=e},val(e){this.$emit("update:modelValue",e)}},created(){this.popup.disableMask(),"input"===this.mode?(this.dialogType="info",this.val=this.value,this.val=this.modelValue):this.dialogType=this.type},methods:{onOk(){"input"===this.mode?this.$emit("confirm",this.val):this.$emit("confirm"),this.beforeClose||this.popup.close()},closeDialog(){this.$emit("close"),this.beforeClose||this.popup.close()},close(){this.popup.close()}}},[["render",function(t,a,o,n,i,l){return e.openBlock(),e.createElementBlock("view",{class:"uni-popup-dialog"},[e.createElementVNode("view",{class:"uni-dialog-title"},[e.createElementVNode("text",{class:e.normalizeClass(["uni-dialog-title-text",["uni-popup__"+i.dialogType]])},e.toDisplayString(l.titleText),3)]),"base"===o.mode?(e.openBlock(),e.createElementBlock("view",{key:0,class:"uni-dialog-content"},[e.renderSlot(t.$slots,"default",{},(()=>[e.createElementVNode("text",{class:"uni-dialog-content-text"},e.toDisplayString(o.content),1)]),!0)])):(e.openBlock(),e.createElementBlock("view",{key:1,class:"uni-dialog-content"},[e.renderSlot(t.$slots,"default",{},(()=>[e.withDirectives(e.createElementVNode("input",{class:"uni-dialog-input",maxlength:o.maxlength,"onUpdate:modelValue":a[0]||(a[0]=e=>i.val=e),type:o.inputType,placeholder:l.placeholderText,focus:o.focus},null,8,["maxlength","type","placeholder","focus"]),[[e.vModelDynamic,i.val]])]),!0)])),e.createElementVNode("view",{class:"uni-dialog-button-group"},[o.showClose?(e.openBlock(),e.createElementBlock("view",{key:0,class:"uni-dialog-button",onClick:a[1]||(a[1]=(...e)=>l.closeDialog&&l.closeDialog(...e))},[e.createElementVNode("text",{class:"uni-dialog-button-text"},e.toDisplayString(l.closeText),1)])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:e.normalizeClass(["uni-dialog-button",o.showClose?"uni-border-left":""]),onClick:a[2]||(a[2]=(...e)=>l.onOk&&l.onOk(...e))},[e.createElementVNode("text",{class:"uni-dialog-button-text uni-button-color"},e.toDisplayString(l.okText),1)],2)])])}],["__scopeId","data-v-dc2a088f"]]),me={__name:"Food",setup(t){const o=()=>{uni.reLaunch({url:"/pages/index/index"})},n=e.ref([{name:"地中海沙拉",recommended:!0,description:"富含抗氧化物质，有助于心血管健康",calories:320,time:15},{name:"蓝莓燕麦粥",recommended:!0,description:"富含膳食纤维，有助于肠道健康",calories:280,time:10},{name:"烤三文鱼",recommended:!0,description:"富含Omega-3脂肪酸，有助于大脑健康",calories:420,time:25}]),i=e.ref(-1),l=e.ref(null),s=e.ref(!1),r=e=>{if(!e)return;const t={name:e,recommended:!1,description:"请输入食品描述",calories:0,time:0};n.value.push(t),s.value=!1,uni.showToast({title:"添加成功",icon:"success"})};return(t,c)=>{const d=a(e.resolveDynamicComponent("uni-icons"),B),u=a(e.resolveDynamicComponent("uni-popup-dialog"),ue),m=a(e.resolveDynamicComponent("uni-popup"),$);return e.openBlock(),e.createElementBlock("view",{class:"food-management"},[e.createElementVNode("view",{class:"header"},[e.createVNode(d,{class:"icons-ui",type:"left",size:"25",color:"#333",onClick:o}),e.createElementVNode("text",{class:"title"},"食品管理")]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.value,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:a,class:"food-item",onTouchstart:e=>(e=>{l.value=setTimeout((()=>{i.value=e}),800)})(a),onTouchend:e=>{clearTimeout(l.value)},onClick:e=>(e=>{i.value===e&&(i.value=-1)})(a)},[e.createElementVNode("view",{class:e.normalizeClass(["food-content",{active:i.value===a}])},[e.createElementVNode("view",{class:"food-header"},[e.createElementVNode("text",{class:"food-name"},e.toDisplayString(t.name),1),t.recommended?(e.openBlock(),e.createElementBlock("text",{key:0,class:"recommend-tag"},"推荐")):e.createCommentVNode("",!0)]),e.createElementVNode("text",{class:"food-desc"},e.toDisplayString(t.description),1),e.createElementVNode("view",{class:"food-footer"},[e.createElementVNode("text",{class:"food-calories"},e.toDisplayString(t.calories)+"千卡",1),e.createElementVNode("text",{class:"food-time"},e.toDisplayString(t.time)+"分钟",1)])],2),i.value===a?(e.openBlock(),e.createElementBlock("view",{key:0,class:"delete-btn",onClick:e.withModifiers((e=>(e=>{uni.showModal({title:"提示",content:"确定要删除该食品吗？",success:t=>{t.confirm&&(n.value.splice(e,1),i.value=-1,uni.showToast({title:"删除成功",icon:"success"}))}})})(a)),["stop"])},[e.createVNode(d,{type:"trash",size:"24",color:"#fff"})],8,["onClick"])):e.createCommentVNode("",!0)],40,["onTouchstart","onTouchend","onClick"])))),128)),e.createElementVNode("view",{class:"add-btn",onClick:c[0]||(c[0]=e=>s.value=!0)},[e.createVNode(d,{type:"plusempty",size:"24",color:"#fff"})]),e.createVNode(m,{ref:"addDialog",type:"dialog"},{default:e.withCtx((()=>[e.createVNode(u,{mode:"input",title:"添加食品",placeholder:"请输入食品信息",onConfirm:r})])),_:1},512)])}}};__definePage("pages/Login/Login",C),__definePage("pages/index/index",D),__definePage("pages/user/user",z),__definePage("pages/chating/chating",M),__definePage("pages/tabbar/tabbar",I),__definePage("pages/IngredientInfo/IngredientInfo",j),__definePage("pages/about/about",q),__definePage("pages/DaytoDay/DaytoDay",W),__definePage("pages/web-view/web-view",H),__definePage("pages/camera/camera",X),__definePage("pages/playing/playing",Y),__definePage("pages/register/register",J),__definePage("pages/Food/Food",me),__definePage("pages/ResultView/ResultView",G);const pe=l({onLaunch:function(){t("log","at App.vue:9","App Launch");uni.getStorageSync("userToken")||uni.reLaunch({url:"/pages/Login/Login"})},onShow:function(){const e=uni.getStorageSync("userToken"),a=getCurrentPages(),o=a[a.length-1];e&&"pages/Login/Login"===o.route&&uni.reLaunch({url:"/pages/index/index"}),t("log","at App.vue:30","App Show")},onHide:function(){t("log","at App.vue:33","App Hide")}},[["render",function(t,a,o,n,i,l){const s=e.resolveComponent("router-view");return e.openBlock(),e.createElementBlock("view",{id:"app"},[e.createVNode(s)])}]]);
/*!
   * pinia v2.1.7
   * (c) 2023 Eduardo San Martin Morote
   * @license MIT
   */var he,fe;(fe=he||(he={})).direct="direct",fe.patchObject="patch object",fe.patchFunction="patch function";const{app:ge,Vuex:ve,Pinia:ye}={app:e.createVueApp(pe)};uni.Vuex=ve,uni.Pinia=ye,ge.provide("__globalStyles",__uniConfig.styles),ge._component.mpType="app",ge._component.render=()=>{},ge.mount("#app")}(Vue);
